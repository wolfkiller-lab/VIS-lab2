(function(t,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["visComponents"]=n():t["visComponents"]=n()})("undefined"!==typeof self?self:this,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s="fb15")}({"0366":function(t,n,e){var r=e("1c0b");t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 0:return function(){return t.call(n)};case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},"06cf":function(t,n,e){var r=e("83ab"),i=e("d1e7"),a=e("5c6c"),o=e("fc6a"),s=e("c04e"),u=e("5135"),l=e("0cfb"),c=Object.getOwnPropertyDescriptor;n.f=r?c:function(t,n){if(t=o(t),n=s(n,!0),l)try{return c(t,n)}catch(e){}if(u(t,n))return a(!i.f.call(t,n),t[n])}},"0cfb":function(t,n,e){var r=e("83ab"),i=e("d039"),a=e("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"0d20":function(t,n,e){"use strict";var r=e("2d43"),i=e.n(r);i.a},"1c0b":function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1d80":function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,n,e){var r=e("d039"),i=e("b622"),a=e("2d00"),o=i("species");t.exports=function(t){return a>=51||!r((function(){var n=[],e=n.constructor={};return e[o]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},"23cb":function(t,n,e){var r=e("a691"),i=Math.max,a=Math.min;t.exports=function(t,n){var e=r(t);return e<0?i(e+n,0):a(e,n)}},"23e7":function(t,n,e){var r=e("da84"),i=e("06cf").f,a=e("9112"),o=e("6eeb"),s=e("ce4e"),u=e("e893"),l=e("94ca");t.exports=function(t,n){var e,c,h,f,d,p,g=t.target,y=t.global,v=t.stat;if(c=y?r:v?r[g]||s(g,{}):(r[g]||{}).prototype,c)for(h in n){if(d=n[h],t.noTargetGet?(p=i(c,h),f=p&&p.value):f=c[h],e=l(y?h:g+(v?".":"#")+h,t.forced),!e&&void 0!==f){if(typeof d===typeof f)continue;u(d,f)}(t.sham||f&&f.sham)&&a(d,"sham",!0),o(c,h,d,t)}}},"241c":function(t,n,e){var r=e("ca84"),i=e("7839"),a=i.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},"2d00":function(t,n,e){var r,i,a=e("da84"),o=e("342f"),s=a.process,u=s&&s.versions,l=u&&u.v8;l?(r=l.split("."),i=r[0]+r[1]):o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=r[1]))),t.exports=i&&+i},"2d43":function(t,n,e){},"342f":function(t,n,e){var r=e("d066");t.exports=r("navigator","userAgent")||""},"428f":function(t,n,e){var r=e("da84");t.exports=r},"44ad":function(t,n,e){var r=e("d039"),i=e("c6b6"),a="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a.call(t,""):Object(t)}:Object},4930:function(t,n,e){var r=e("d039");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(t,n,e){var r=e("fc6a"),i=e("50c4"),a=e("23cb"),o=function(t){return function(n,e,o){var s,u=r(n),l=i(u.length),c=a(o,l);if(t&&e!=e){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===e)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"50c4":function(t,n,e){var r=e("a691"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},5135:function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},5376:function(t,n,e){"use strict";var r=e("f1c3"),i=e.n(r);i.a},5692:function(t,n,e){var r=e("c430"),i=e("c6cd");(t.exports=function(t,n){return i[t]||(i[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,n,e){var r=e("d066"),i=e("241c"),a=e("7418"),o=e("825a");t.exports=r("Reflect","ownKeys")||function(t){var n=i.f(o(t)),e=a.f;return e?n.concat(e(t)):n}},"5c6c":function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},"65f0":function(t,n,e){var r=e("861d"),i=e("e8b5"),a=e("b622"),o=a("species");t.exports=function(t,n){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?r(e)&&(e=e[o],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}},"69f3":function(t,n,e){var r,i,a,o=e("7f9a"),s=e("da84"),u=e("861d"),l=e("9112"),c=e("5135"),h=e("f772"),f=e("d012"),d=s.WeakMap,p=function(t){return a(t)?i(t):r(t,{})},g=function(t){return function(n){var e;if(!u(n)||(e=i(n)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return e}};if(o){var y=new d,v=y.get,m=y.has,x=y.set;r=function(t,n){return x.call(y,t,n),n},i=function(t){return v.call(y,t)||{}},a=function(t){return m.call(y,t)}}else{var w=h("state");f[w]=!0,r=function(t,n){return l(t,w,n),n},i=function(t){return c(t,w)?t[w]:{}},a=function(t){return c(t,w)}}t.exports={set:r,get:i,has:a,enforce:p,getterFor:g}},"6eeb":function(t,n,e){var r=e("da84"),i=e("9112"),a=e("5135"),o=e("ce4e"),s=e("8925"),u=e("69f3"),l=u.get,c=u.enforce,h=String(String).split("String");(t.exports=function(t,n,e,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof e&&("string"!=typeof n||a(e,"name")||i(e,"name",n),c(e).source=h.join("string"==typeof n?n:"")),t!==r?(u?!f&&t[n]&&(l=!0):delete t[n],l?t[n]=e:i(t,n,e)):l?t[n]=e:o(n,e)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},"6f17":function(t,n,e){},7338:function(t,n,e){"use strict";var r=e("6f17"),i=e.n(r);i.a},7418:function(t,n){n.f=Object.getOwnPropertySymbols},7839:function(t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,n,e){var r=e("1d80");t.exports=function(t){return Object(r(t))}},"7f9a":function(t,n,e){var r=e("da84"),i=e("8925"),a=r.WeakMap;t.exports="function"===typeof a&&/native code/.test(i(a))},"825a":function(t,n,e){var r=e("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,n,e){var r=e("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,n,e){"use strict";var r=e("c04e"),i=e("9bf2"),a=e("5c6c");t.exports=function(t,n,e){var o=r(n);o in t?i.f(t,o,a(0,e)):t[o]=e}},"861d":function(t,n){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8875:function(t,n,e){var r,i,a;(function(e,o){i=[],r=o,a="function"===typeof r?r.apply(n,i):r,void 0===a||(t.exports=a)})("undefined"!==typeof self&&self,(function(){function t(){var n=Object.getOwnPropertyDescriptor(document,"currentScript");if(!n&&"currentScript"in document&&document.currentScript)return document.currentScript;if(n&&n.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var e,r,i,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,s=a.exec(d.stack)||o.exec(d.stack),u=s&&s[1]||!1,l=s&&s[2]||!1,c=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");u===c&&(e=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=e.replace(r,"$1").trim());for(var f=0;f<h.length;f++){if("interactive"===h[f].readyState)return h[f];if(h[f].src===u)return h[f];if(u===c&&h[f].innerHTML&&h[f].innerHTML.trim()===i)return h[f]}return null}}return t}))},8925:function(t,n,e){var r=e("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},"90e3":function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},9112:function(t,n,e){var r=e("83ab"),i=e("9bf2"),a=e("5c6c");t.exports=r?function(t,n,e){return i.f(t,n,a(1,e))}:function(t,n,e){return t[n]=e,t}},"94ca":function(t,n,e){var r=e("d039"),i=/#|\.prototype\./,a=function(t,n){var e=s[o(t)];return e==l||e!=u&&("function"==typeof n?r(n):!!n)},o=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},"99af":function(t,n,e){"use strict";var r=e("23e7"),i=e("d039"),a=e("e8b5"),o=e("861d"),s=e("7b0b"),u=e("50c4"),l=e("8418"),c=e("65f0"),h=e("1dde"),f=e("b622"),d=e("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",v=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=h("concat"),x=function(t){if(!o(t))return!1;var n=t[p];return void 0!==n?!!n:a(t)},w=!v||!m;r({target:"Array",proto:!0,forced:w},{concat:function(t){var n,e,r,i,a,o=s(this),h=c(o,0),f=0;for(n=-1,r=arguments.length;n<r;n++)if(a=-1===n?o:arguments[n],x(a)){if(i=u(a.length),f+i>g)throw TypeError(y);for(e=0;e<i;e++,f++)e in a&&l(h,f,a[e])}else{if(f>=g)throw TypeError(y);l(h,f++,a)}return h.length=f,h}})},"9bf2":function(t,n,e){var r=e("83ab"),i=e("0cfb"),a=e("825a"),o=e("c04e"),s=Object.defineProperty;n.f=r?s:function(t,n,e){if(a(t),n=o(n,!0),a(e),i)try{return s(t,n,e)}catch(r){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},a691:function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},ae40:function(t,n,e){var r=e("83ab"),i=e("d039"),a=e("5135"),o=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,n){if(a(s,t))return s[t];n||(n={});var e=[][t],l=!!a(n,"ACCESSORS")&&n.ACCESSORS,c=a(n,0)?n[0]:u,h=a(n,1)?n[1]:void 0;return s[t]=!!e&&!i((function(){if(l&&!r)return!0;var t={length:-1};l?o(t,1,{enumerable:!0,get:u}):t[1]=1,e.call(t,c,h)}))}},b0c0:function(t,n,e){var r=e("83ab"),i=e("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,u="name";r&&!(u in a)&&i(a,u,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b622:function(t,n,e){var r=e("da84"),i=e("5692"),a=e("5135"),o=e("90e3"),s=e("4930"),u=e("fdbf"),l=i("wks"),c=r.Symbol,h=u?c:c&&c.withoutSetter||o;t.exports=function(t){return a(l,t)||(s&&a(c,t)?l[t]=c[t]:l[t]=h("Symbol."+t)),l[t]}},b727:function(t,n,e){var r=e("0366"),i=e("44ad"),a=e("7b0b"),o=e("50c4"),s=e("65f0"),u=[].push,l=function(t){var n=1==t,e=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h;return function(d,p,g,y){for(var v,m,x=a(d),w=i(x),b=r(p,g,3),_=o(w.length),A=0,M=y||s,k=n?M(d,_):e?M(d,0):void 0;_>A;A++)if((f||A in w)&&(v=w[A],m=b(v,A,x),t))if(n)k[A]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return A;case 2:u.call(k,v)}else if(c)return!1;return h?-1:l||c?c:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},be18:function(t,n,e){},c04e:function(t,n,e){var r=e("861d");t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c430:function(t,n){t.exports=!1},c6b6:function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},c6cd:function(t,n,e){var r=e("da84"),i=e("ce4e"),a="__core-js_shared__",o=r[a]||i(a,{});t.exports=o},c8ba:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(r){"object"===typeof window&&(e=window)}t.exports=e},ca84:function(t,n,e){var r=e("5135"),i=e("fc6a"),a=e("4d64").indexOf,o=e("d012");t.exports=function(t,n){var e,s=i(t),u=0,l=[];for(e in s)!r(o,e)&&r(s,e)&&l.push(e);while(n.length>u)r(s,e=n[u++])&&(~a(l,e)||l.push(e));return l}},cc12:function(t,n,e){var r=e("da84"),i=e("861d"),a=r.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},ce4e:function(t,n,e){var r=e("da84"),i=e("9112");t.exports=function(t,n){try{i(r,t,n)}catch(e){r[t]=n}return n}},d012:function(t,n){t.exports={}},d039:function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},d066:function(t,n,e){var r=e("428f"),i=e("da84"),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,n){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][n]||i[t]&&i[t][n]}},d1e7:function(t,n,e){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);n.f=a?function(t){var n=i(this,t);return!!n&&n.enumerable}:r},d81d:function(t,n,e){"use strict";var r=e("23e7"),i=e("b727").map,a=e("1dde"),o=e("ae40"),s=a("map"),u=o("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},da84:function(t,n,e){(function(n){var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof n&&n)||Function("return this")()}).call(this,e("c8ba"))},e893:function(t,n,e){var r=e("5135"),i=e("56ef"),a=e("06cf"),o=e("9bf2");t.exports=function(t,n){for(var e=i(n),s=o.f,u=a.f,l=0;l<e.length;l++){var c=e[l];r(t,c)||s(t,c,u(n,c))}}},e8b5:function(t,n,e){var r=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},eef3:function(t,n,e){"use strict";var r=e("be18"),i=e.n(r);i.a},f1c3:function(t,n,e){},f772:function(t,n,e){var r=e("5692"),i=e("90e3"),a=r("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},fb15:function(t,n,e){"use strict";if(e.r(n),e.d(n,"BarChart",(function(){return yc})),e.d(n,"Tree",(function(){return _c})),e.d(n,"TreeMap",(function(){return Tc})),e.d(n,"Sunburst",(function(){return Uc})),"undefined"!==typeof window){var r=window.document.currentScript,i=e("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var a=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(e.p=a[1])}var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{style:{width:600,height:600},attrs:{id:"bar-chart-container"}})},s=[],u=(e("99af"),e("d81d"),e("b0c0"),function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}),l=function(t){return 1===t.length&&(t=c(t)),{left:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}};function c(t){return function(n,e){return u(t(n),e)}}var h=l(u),f=h.right,d=(h.left,f);var p=Array.prototype,g=(p.slice,p.map,function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);while(++r<i)a[r]=t+r*e;return a}),y=Math.sqrt(50),v=Math.sqrt(10),m=Math.sqrt(2),x=function(t,n,e){var r,i,a,o,s=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=w(t,n,e))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),n=Math.floor(n/o),a=new Array(i=Math.ceil(n-t+1));while(++s<i)a[s]=(t+s)*o}else{t=Math.floor(t*o),n=Math.ceil(n*o),a=new Array(i=Math.ceil(t-n+1));while(++s<i)a[s]=(t-s)/o}return r&&a.reverse(),a};function w(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=y?10:a>=v?5:a>=m?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=y?10:a>=v?5:a>=m?2:1)}function b(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=y?i*=10:a>=v?i*=5:a>=m&&(i*=2),n<t?-i:i}var _=function(t,n){var e,r,i=t.length,a=-1;if(null==n){while(++a<i)if(null!=(e=t[a])&&e>=e){r=e;while(++a<i)null!=(e=t[a])&&e>r&&(r=e)}}else while(++a<i)if(null!=(e=n(t[a],a,t))&&e>=e){r=e;while(++a<i)null!=(e=n(t[a],a,t))&&e>r&&(r=e)}return r};var A=Array.prototype.slice,M=function(t){return t},k=1,S=2,C=3,T=4,P=1e-6;function N(t){return"translate("+(t+.5)+",0)"}function D(t){return"translate(0,"+(t+.5)+")"}function L(t){return function(n){return+t(n)}}function E(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function U(){return!this.__axis}function R(t,n){var e=[],r=null,i=null,a=6,o=6,s=3,u=t===k||t===T?-1:1,l=t===T||t===S?"x":"y",c=t===k||t===C?N:D;function h(h){var f=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):M:i,p=Math.max(a,0)+s,g=n.range(),y=+g[0]+.5,v=+g[g.length-1]+.5,m=(n.bandwidth?E:L)(n.copy()),x=h.selection?h.selection():h,w=x.selectAll(".domain").data([null]),b=x.selectAll(".tick").data(f,n).order(),_=b.exit(),A=b.enter().append("g").attr("class","tick"),N=b.select("line"),D=b.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(A),N=N.merge(A.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),D=D.merge(A.append("text").attr("fill","currentColor").attr(l,u*p).attr("dy",t===k?"0em":t===C?"0.71em":"0.32em")),h!==x&&(w=w.transition(h),b=b.transition(h),N=N.transition(h),D=D.transition(h),_=_.transition(h).attr("opacity",P).attr("transform",(function(t){return isFinite(t=m(t))?c(t):this.getAttribute("transform")})),A.attr("opacity",P).attr("transform",(function(t){var n=this.parentNode.__axis;return c(n&&isFinite(n=n(t))?n:m(t))}))),_.remove(),w.attr("d",t===T||t==S?o?"M"+u*o+","+y+"H0.5V"+v+"H"+u*o:"M0.5,"+y+"V"+v:o?"M"+y+","+u*o+"V0.5H"+v+"V"+u*o:"M"+y+",0.5H"+v),b.attr("opacity",1).attr("transform",(function(t){return c(m(t))})),N.attr(l+"2",u*a),D.attr(l,u*p).text(d),x.filter(U).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===S?"start":t===T?"end":"middle"),x.each((function(){this.__axis=m}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=A.call(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:A.call(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:A.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function I(t){return R(k,t)}function F(t){return R(S,t)}function B(t){return R(C,t)}function O(t){return R(T,t)}var H={value:function(){}};function Y(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new j(r)}function j(t){this._=t}function z(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function q(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function V(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=H,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}j.prototype=Y.prototype={constructor:j,on:function(t,n){var e,r=this._,i=z(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);while(++a<o)if(e=(t=i[a]).type)r[e]=V(r[e],t.name,n);else if(null==n)for(e in r)r[e]=V(r[e],t.name,null);return this}while(++a<o)if((e=(t=i[a]).type)&&(e=q(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new j(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,e=r.length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var X=Y;function $(){}var W=function(t){return null==t?$:function(){return this.querySelector(t)}},K=function(t){"function"!==typeof t&&(t=W(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,s=n[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new In(r,this._parents)};function G(){return[]}var Z=function(t){return null==t?G:function(){return this.querySelectorAll(t)}},Q=function(t){"function"!==typeof t&&(t=Z(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,s=n[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(t.call(o,o.__data__,l,s)),i.push(o));return new In(r,i)},J=function(t){return function(){return this.matches(t)}},tt=function(t){"function"!==typeof t&&(t=J(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new In(r,this._parents)},nt=function(t){return new Array(t.length)},et=function(){return new In(this._enter||this._groups.map(nt),this._parents)};function rt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}rt.prototype={constructor:rt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var it=function(t){return function(){return t}},at="$";function ot(t,n,e,r,i,a){for(var o,s=0,u=n.length,l=a.length;s<l;++s)(o=n[s])?(o.__data__=a[s],r[s]=o):e[s]=new rt(t,a[s]);for(;s<u;++s)(o=n[s])&&(i[s]=o)}function st(t,n,e,r,i,a,o){var s,u,l,c={},h=n.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(u=n[s])&&(d[s]=l=at+o.call(u,u.__data__,s,n),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)l=at+o.call(t,a[s],s,a),(u=c[l])?(r[s]=u,u.__data__=a[s],c[l]=null):e[s]=new rt(t,a[s]);for(s=0;s<h;++s)(u=n[s])&&c[d[s]]===u&&(i[s]=u)}var ut=function(t,n){if(!t)return d=new Array(this.size()),l=-1,this.each((function(t){d[++l]=t})),d;var e=n?st:ot,r=this._parents,i=this._groups;"function"!==typeof t&&(t=it(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,g=s[l]=new Array(p),y=o[l]=new Array(p),v=u[l]=new Array(f);e(c,h,g,y,v,d,n);for(var m,x,w=0,b=0;w<p;++w)if(m=g[w]){w>=b&&(b=w+1);while(!(x=y[b])&&++b<p);m._next=x||null}}return o=new In(o,r),o._enter=s,o._exit=u,o},lt=function(){return new In(this._exit||this._groups.map(nt),this._parents)},ct=function(t,n,e){var r=this.enter(),i=this,a=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},ht=function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=n[s],c=e[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)o[s]=n[s];return new In(o,this._parents)},ft=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},dt=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=pt);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,s=e[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(n)}return new In(i,this._parents).order()};function pt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var gt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},yt=function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},vt=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},mt=function(){var t=0;return this.each((function(){++t})),t},xt=function(){return!this.node()},wt=function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},bt="http://www.w3.org/1999/xhtml",_t={svg:"http://www.w3.org/2000/svg",xhtml:bt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),_t.hasOwnProperty(n)?{space:_t[n],local:t}:t};function Mt(t){return function(){this.removeAttribute(t)}}function kt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function St(t,n){return function(){this.setAttribute(t,n)}}function Ct(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Tt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Pt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Nt=function(t,n){var e=At(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?kt:Mt:"function"===typeof n?e.local?Pt:Tt:e.local?Ct:St)(e,n))},Dt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Lt(t){return function(){this.style.removeProperty(t)}}function Et(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ut(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}var Rt=function(t,n,e){return arguments.length>1?this.each((null==n?Lt:"function"===typeof n?Ut:Et)(t,n,null==e?"":e)):It(this.node(),t)};function It(t,n){return t.style.getPropertyValue(n)||Dt(t).getComputedStyle(t,null).getPropertyValue(n)}function Ft(t){return function(){delete this[t]}}function Bt(t,n){return function(){this[t]=n}}function Ot(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}var Ht=function(t,n){return arguments.length>1?this.each((null==n?Ft:"function"===typeof n?Ot:Bt)(t,n)):this.node()[t]};function Yt(t){return t.trim().split(/^|\s+/)}function jt(t){return t.classList||new zt(t)}function zt(t){this._node=t,this._names=Yt(t.getAttribute("class")||"")}function qt(t,n){var e=jt(t),r=-1,i=n.length;while(++r<i)e.add(n[r])}function Vt(t,n){var e=jt(t),r=-1,i=n.length;while(++r<i)e.remove(n[r])}function Xt(t){return function(){qt(this,t)}}function $t(t){return function(){Vt(this,t)}}function Wt(t,n){return function(){(n.apply(this,arguments)?qt:Vt)(this,t)}}zt.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Kt=function(t,n){var e=Yt(t+"");if(arguments.length<2){var r=jt(this.node()),i=-1,a=e.length;while(++i<a)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?Wt:n?Xt:$t)(e,n))};function Gt(){this.textContent=""}function Zt(t){return function(){this.textContent=t}}function Qt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}var Jt=function(t){return arguments.length?this.each(null==t?Gt:("function"===typeof t?Qt:Zt)(t)):this.node().textContent};function tn(){this.innerHTML=""}function nn(t){return function(){this.innerHTML=t}}function en(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}var rn=function(t){return arguments.length?this.each(null==t?tn:("function"===typeof t?en:nn)(t)):this.node().innerHTML};function an(){this.nextSibling&&this.parentNode.appendChild(this)}var on=function(){return this.each(an)};function sn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var un=function(){return this.each(sn)};function ln(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===bt&&n.documentElement.namespaceURI===bt?n.createElement(t):n.createElementNS(e,t)}}function cn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var hn=function(t){var n=At(t);return(n.local?cn:ln)(n)},fn=function(t){var n="function"===typeof t?t:hn(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))};function dn(){return null}var pn=function(t,n){var e="function"===typeof t?t:hn(t),r=null==n?dn:"function"===typeof n?n:W(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))};function gn(){var t=this.parentNode;t&&t.removeChild(this)}var yn=function(){return this.each(gn)};function vn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function mn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var xn=function(t){return this.select(t?mn:vn)},wn=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},bn={},_n=null;if("undefined"!==typeof document){var An=document.documentElement;"onmouseenter"in An||(bn={mouseenter:"mouseover",mouseleave:"mouseout"})}function Mn(t,n,e){return t=kn(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function kn(t,n,e){return function(r){var i=_n;_n=r;try{t.call(this,this.__data__,n,e)}finally{_n=i}}}function Sn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Cn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Tn(t,n,e){var r=bn.hasOwnProperty(t.type)?Mn:kn;return function(i,a,o){var s,u=this.__on,l=r(n,a,o);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=e),void(s.value=n);this.addEventListener(t.type,l,e),s={type:t.type,name:t.name,value:n,listener:l,capture:e},u?u.push(s):this.__on=[s]}}var Pn=function(t,n,e){var r,i,a=Sn(t+""),o=a.length;if(!(arguments.length<2)){for(s=n?Tn:Cn,null==e&&(e=!1),r=0;r<o;++r)this.each(s(a[r],n,e));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value};function Nn(t,n,e,r){var i=_n;t.sourceEvent=_n,_n=t;try{return n.apply(e,r)}finally{_n=i}}function Dn(t,n,e){var r=Dt(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ln(t,n){return function(){return Dn(this,t,n)}}function En(t,n){return function(){return Dn(this,t,n.apply(this,arguments))}}var Un=function(t,n){return this.each(("function"===typeof n?En:Ln)(t,n))},Rn=[null];function In(t,n){this._groups=t,this._parents=n}function Fn(){return new In([[document.documentElement]],Rn)}In.prototype=Fn.prototype={constructor:In,select:K,selectAll:Q,filter:tt,data:ut,enter:et,exit:lt,join:ct,merge:ht,order:ft,sort:dt,call:gt,nodes:yt,node:vt,size:mt,empty:xt,each:wt,attr:Nt,style:Rt,property:Ht,classed:Kt,text:Jt,html:rn,raise:on,lower:un,append:fn,insert:pn,remove:yn,clone:xn,datum:wn,on:Pn,dispatch:Un};var Bn=Fn,On=function(t){return"string"===typeof t?new In([[document.querySelector(t)]],[document.documentElement]):new In([[t]],Rn)};var Hn=function(){_n.preventDefault(),_n.stopImmediatePropagation()},Yn=function(t){var n=t.document.documentElement,e=On(t).on("dragstart.drag",Hn,!0);"onselectstart"in n?e.on("selectstart.drag",Hn,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function jn(t,n){var e=t.document.documentElement,r=On(t).on("dragstart.drag",null);n&&(r.on("click.drag",Hn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var zn=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function qn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Vn(){}var Xn=.7,$n=1/Xn,Wn="\\s*([+-]?\\d+)\\s*",Kn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zn=/^#([0-9a-f]{3,8})$/,Qn=new RegExp("^rgb\\("+[Wn,Wn,Wn]+"\\)$"),Jn=new RegExp("^rgb\\("+[Gn,Gn,Gn]+"\\)$"),te=new RegExp("^rgba\\("+[Wn,Wn,Wn,Kn]+"\\)$"),ne=new RegExp("^rgba\\("+[Gn,Gn,Gn,Kn]+"\\)$"),ee=new RegExp("^hsl\\("+[Kn,Gn,Gn]+"\\)$"),re=new RegExp("^hsla\\("+[Kn,Gn,Gn,Kn]+"\\)$"),ie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ae(){return this.rgb().formatHex()}function oe(){return me(this).formatHsl()}function se(){return this.rgb().formatRgb()}function ue(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Zn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?le(n):3===e?new de(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?ce(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?ce(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Qn.exec(t))?new de(n[1],n[2],n[3],1):(n=Jn.exec(t))?new de(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=te.exec(t))?ce(n[1],n[2],n[3],n[4]):(n=ne.exec(t))?ce(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ee.exec(t))?ve(n[1],n[2]/100,n[3]/100,1):(n=re.exec(t))?ve(n[1],n[2]/100,n[3]/100,n[4]):ie.hasOwnProperty(t)?le(ie[t]):"transparent"===t?new de(NaN,NaN,NaN,0):null}function le(t){return new de(t>>16&255,t>>8&255,255&t,1)}function ce(t,n,e,r){return r<=0&&(t=n=e=NaN),new de(t,n,e,r)}function he(t){return t instanceof Vn||(t=ue(t)),t?(t=t.rgb(),new de(t.r,t.g,t.b,t.opacity)):new de}function fe(t,n,e,r){return 1===arguments.length?he(t):new de(t,n,e,null==r?1:r)}function de(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function pe(){return"#"+ye(this.r)+ye(this.g)+ye(this.b)}function ge(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ye(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ve(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new we(t,n,e,r)}function me(t){if(t instanceof we)return new we(t.h,t.s,t.l,t.opacity);if(t instanceof Vn||(t=ue(t)),!t)return new we;if(t instanceof we)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=n===a?(e-r)/s+6*(e<r):e===a?(r-n)/s+2:(n-e)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new we(o,s,u,t.opacity)}function xe(t,n,e,r){return 1===arguments.length?me(t):new we(t,n,e,null==r?1:r)}function we(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function be(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function _e(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}zn(Vn,ue,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ae,formatHex:ae,formatHsl:oe,formatRgb:se,toString:se}),zn(de,fe,qn(Vn,{brighter:function(t){return t=null==t?$n:Math.pow($n,t),new de(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Xn:Math.pow(Xn,t),new de(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pe,formatHex:pe,formatRgb:ge,toString:ge})),zn(we,xe,qn(Vn,{brighter:function(t){return t=null==t?$n:Math.pow($n,t),new we(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Xn:Math.pow(Xn,t),new we(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new de(be(t>=240?t-240:t+120,i,r),be(t,i,r),be(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ae=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<n-1?t[r+2]:2*a-i;return _e((e-r/n)*n,o,i,a,s)}},Me=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],s=t[(r+2)%n];return _e((e-r/n)*n,i,a,o,s)}},ke=function(t){return function(){return t}};function Se(t,n){return function(e){return t+e*n}}function Ce(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Te(t){return 1===(t=+t)?Pe:function(n,e){return e-n?Ce(n,e,t):ke(isNaN(n)?e:n)}}function Pe(t,n){var e=n-t;return e?Se(t,e):ke(isNaN(t)?n:t)}var Ne=function t(n){var e=Te(n);function r(t,n){var r=e((t=fe(t)).r,(n=fe(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=Pe(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function De(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),s=new Array(i);for(e=0;e<i;++e)r=fe(n[e]),a[e]=r.r||0,o[e]=r.g||0,s[e]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}De(Ae),De(Me);var Le=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}};function Ee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ue(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=Ve(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}var Re=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},Ie=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},Fe=function(t,n){var e,r={},i={};for(e in null!==t&&"object"===typeof t||(t={}),null!==n&&"object"===typeof n||(n={}),n)e in t?r[e]=Ve(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Be=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oe=new RegExp(Be.source,"g");function He(t){return function(){return t}}function Ye(t){return function(n){return t(n)+""}}var je,ze,qe=function(t,n){var e,r,i,a=Be.lastIndex=Oe.lastIndex=0,o=-1,s=[],u=[];t+="",n+="";while((e=Be.exec(t))&&(r=Oe.exec(n)))(i=r.index)>a&&(i=n.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(e=e[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:Ie(e,r)})),a=Oe.lastIndex;return a<n.length&&(i=n.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?Ye(u[0].x):He(n):(n=u.length,function(t){for(var e,r=0;r<n;++r)s[(e=u[r]).i]=e.x(t);return s.join("")})},Ve=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?ke(n):("number"===r?Ie:"string"===r?(e=ue(n))?(n=e,Ne):qe:n instanceof ue?Ne:n instanceof Date?Re:Ee(n)?Le:Array.isArray(n)?Ue:"function"!==typeof n.valueOf&&"function"!==typeof n.toString||isNaN(n)?Fe:Ie)(t,n)},Xe=function(){var t,n=_n;while(t=n.sourceEvent)n=t;return n},$e=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},We=function(t,n,e){arguments.length<3&&(e=n,n=Xe().changedTouches);for(var r,i=0,a=n?n.length:0;i<a;++i)if((r=n[i]).identifier===e)return $e(t,r);return null},Ke=function(t){var n=Xe();return n.changedTouches&&(n=n.changedTouches[0]),$e(t,n)},Ge=0,Ze=0,Qe=0,Je=1e3,tr=0,nr=0,er=0,rr="object"===typeof performance&&performance.now?performance:Date,ir="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ar(){return nr||(ir(or),nr=rr.now()+er)}function or(){nr=0}function sr(){this._call=this._time=this._next=null}function ur(t,n,e){var r=new sr;return r.restart(t,n,e),r}function lr(){ar(),++Ge;var t,n=je;while(n)(t=nr-n._time)>=0&&n._call.call(null,t),n=n._next;--Ge}function cr(){nr=(tr=rr.now())+er,Ge=Ze=0;try{lr()}finally{Ge=0,fr(),nr=0}}function hr(){var t=rr.now(),n=t-tr;n>Je&&(er-=n,tr=t)}function fr(){var t,n,e=je,r=1/0;while(e)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:je=n);ze=t,dr(r)}function dr(t){if(!Ge){Ze&&(Ze=clearTimeout(Ze));var n=t-nr;n>24?(t<1/0&&(Ze=setTimeout(cr,t-rr.now()-er)),Qe&&(Qe=clearInterval(Qe))):(Qe||(tr=rr.now(),Qe=setInterval(hr,Je)),Ge=1,ir(cr))}}sr.prototype=ur.prototype={constructor:sr,restart:function(t,n,e){if("function"!==typeof t)throw new TypeError("callback is not a function");e=(null==e?ar():+e)+(null==n?0:+n),this._next||ze===this||(ze?ze._next=this:je=this,ze=this),this._call=t,this._time=e,dr()},stop:function(){this._call&&(this._call=null,this._time=1/0,dr())}};var pr=function(t,n,e){var r=new sr;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},gr=X("start","end","cancel","interrupt"),yr=[],vr=0,mr=1,xr=2,wr=3,br=4,_r=5,Ar=6,Mr=function(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};Tr(t,e,{name:n,index:r,group:i,on:gr,tween:yr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:vr})};function kr(t,n){var e=Cr(t,n);if(e.state>vr)throw new Error("too late; already scheduled");return e}function Sr(t,n){var e=Cr(t,n);if(e.state>wr)throw new Error("too late; already running");return e}function Cr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Tr(t,n,e){var r,i=t.__transition;function a(t){e.state=mr,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}function o(a){var l,c,h,f;if(e.state!==mr)return u();for(l in i)if(f=i[l],f.name===e.name){if(f.state===wr)return pr(o);f.state===br?(f.state=Ar,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<n&&(f.state=Ar,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(pr((function(){e.state===wr&&(e.state=br,e.timer.restart(s,e.delay,e.time),s(a))})),e.state=xr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===xr){for(e.state=wr,r=new Array(h=e.tween.length),l=0,c=-1;l<h;++l)(f=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=f);r.length=c+1}}function s(n){var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=_r,1),a=-1,o=r.length;while(++a<o)r[a].call(t,i);e.state===_r&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=Ar,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=ur(a,0,e.time)}var Pr,Nr,Dr,Lr,Er=function(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>xr&&e.state<_r,e.state=Ar,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}},Ur=function(t){return this.each((function(){Er(this,t)}))},Rr=180/Math.PI,Ir={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Fr=function(t,n,e,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,u/=s),t*r<n*e&&(t=-t,n=-n,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Rr,skewX:Math.atan(u)*Rr,scaleX:o,scaleY:s}};function Br(t){return"none"===t?Ir:(Pr||(Pr=document.createElement("DIV"),Nr=document.documentElement,Dr=document.defaultView),Pr.style.transform=t,t=Dr.getComputedStyle(Nr.appendChild(Pr),null).getPropertyValue("transform"),Nr.removeChild(Pr),t=t.slice(7,-1).split(","),Fr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Or(t){return null==t?Ir:(Lr||(Lr=document.createElementNS("http://www.w3.org/2000/svg","g")),Lr.setAttribute("transform",t),(t=Lr.transform.baseVal.consolidate())?(t=t.matrix,Fr(t.a,t.b,t.c,t.d,t.e,t.f)):Ir)}function Hr(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,n,null,e);s.push({i:u-4,x:Ie(t,i)},{i:u-2,x:Ie(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}function o(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ie(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}function s(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ie(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}function u(t,n,e,r,a,o){if(t!==e||n!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Ie(t,e)},{i:s-2,x:Ie(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}return function(n,e){var r=[],i=[];return n=t(n),e=t(e),a(n.translateX,n.translateY,e.translateX,e.translateY,r,i),o(n.rotate,e.rotate,r,i),s(n.skewX,e.skewX,r,i),u(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i),n=e=null,function(t){var n,e=-1,a=i.length;while(++e<a)r[(n=i[e]).i]=n.x(t);return r.join("")}}}var Yr=Hr(Br,"px, ","px)","deg)"),jr=Hr(Or,", ",")",")");function zr(t,n){var e,r;return function(){var i=Sr(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function qr(t,n,e){var r,i;if("function"!==typeof e)throw new Error;return function(){var a=Sr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}var Vr=function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Cr(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?zr:qr)(e,t,n))};function Xr(t,n,e){var r=t._id;return t.each((function(){var t=Sr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Cr(t,r).value[n]}}var $r=function(t,n){var e;return("number"===typeof n?Ie:n instanceof ue?Ne:(e=ue(n))?(n=e,Ne):qe)(t,n)};function Wr(t){return function(){this.removeAttribute(t)}}function Kr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gr(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function Zr(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function Qr(t,n,e){var r,i,a;return function(){var o,s,u=e(this);if(null!=u)return o=this.getAttribute(t),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,u));this.removeAttribute(t)}}function Jr(t,n,e){var r,i,a;return function(){var o,s,u=e(this);if(null!=u)return o=this.getAttributeNS(t.space,t.local),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,u));this.removeAttributeNS(t.space,t.local)}}var ti=function(t,n){var e=At(t),r="transform"===e?jr:$r;return this.attrTween(t,"function"===typeof n?(e.local?Jr:Qr)(e,r,Xr(this,"attr."+t,n)):null==n?(e.local?Kr:Wr)(e):(e.local?Zr:Gr)(e,r,n))};function ni(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ei(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ri(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&ei(t,i)),e}return i._value=n,i}function ii(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&ni(t,i)),e}return i._value=n,i}var ai=function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!==typeof n)throw new Error;var r=At(t);return this.tween(e,(r.local?ri:ii)(r,n))};function oi(t,n){return function(){kr(this,t).delay=+n.apply(this,arguments)}}function si(t,n){return n=+n,function(){kr(this,t).delay=n}}var ui=function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?oi:si)(n,t)):Cr(this.node(),n).delay};function li(t,n){return function(){Sr(this,t).duration=+n.apply(this,arguments)}}function ci(t,n){return n=+n,function(){Sr(this,t).duration=n}}var hi=function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?li:ci)(n,t)):Cr(this.node(),n).duration};function fi(t,n){if("function"!==typeof n)throw new Error;return function(){Sr(this,t).ease=n}}var di=function(t){var n=this._id;return arguments.length?this.each(fi(n,t)):Cr(this.node(),n).ease},pi=function(t){"function"!==typeof t&&(t=J(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new zi(r,this._parents,this._name,this._id)},gi=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=n[s],c=e[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)o[s]=n[s];return new zi(o,this._parents,this._name,this._id)};function yi(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}function vi(t,n,e){var r,i,a=yi(n)?kr:Sr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}var mi=function(t,n){var e=this._id;return arguments.length<2?Cr(this.node(),e).on.on(t):this.each(vi(e,t,n))};function xi(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}var wi=function(){return this.on("end.remove",xi(this._id))},bi=function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=W(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Mr(h[f],n,e,f,h,Cr(s,e)));return new zi(a,this._parents,n,e)},_i=function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=Z(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=Cr(u,e),g=0,y=d.length;g<y;++g)(f=d[g])&&Mr(f,n,e,g,d,p);a.push(d),o.push(u)}return new zi(a,o,n,e)},Ai=Bn.prototype.constructor,Mi=function(){return new Ai(this._groups,this._parents)};function ki(t,n){var e,r,i;return function(){var a=It(this,t),o=(this.style.removeProperty(t),It(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function Si(t){return function(){this.style.removeProperty(t)}}function Ci(t,n,e){var r,i,a=e+"";return function(){var o=It(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}function Ti(t,n,e){var r,i,a;return function(){var o=It(this,t),s=e(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=It(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s))}}function Pi(t,n){var e,r,i,a,o="style."+n,s="end."+o;return function(){var u=Sr(this,t),l=u.on,c=null==u.value[o]?a||(a=Si(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(s,i=c),u.on=r}}var Ni=function(t,n,e){var r="transform"===(t+="")?Yr:$r;return null==n?this.styleTween(t,ki(t,r)).on("end.style."+t,Si(t)):"function"===typeof n?this.styleTween(t,Ti(t,r,Xr(this,"style."+t,n))).each(Pi(this._id,t)):this.styleTween(t,Ci(t,r,n),e).on("end.style."+t,null)};function Di(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Li(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Di(t,a,e)),r}return a._value=n,a}var Ei=function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!==typeof n)throw new Error;return this.tween(r,Li(t,n,null==e?"":e))};function Ui(t){return function(){this.textContent=t}}function Ri(t){return function(){var n=t(this);this.textContent=null==n?"":n}}var Ii=function(t){return this.tween("text","function"===typeof t?Ri(Xr(this,"text",t)):Ui(null==t?"":t+""))};function Fi(t){return function(n){this.textContent=t.call(this,n)}}function Bi(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Fi(r)),n}return r._value=t,r}var Oi=function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,Bi(t))},Hi=function(){for(var t=this._name,n=this._id,e=Vi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=Cr(o,n);Mr(o,t,e,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zi(r,this._parents,t,e)},Yi=function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0===--i&&a()}};e.each((function(){var e=Sr(this,r),i=e.on;i!==t&&(n=(t=i).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),e.on=n}))}))},ji=0;function zi(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function qi(t){return Bn().transition(t)}function Vi(){return++ji}var Xi=Bn.prototype;function $i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}zi.prototype=qi.prototype={constructor:zi,select:bi,selectAll:_i,filter:pi,merge:gi,selection:Mi,transition:Hi,call:Xi.call,nodes:Xi.nodes,node:Xi.node,size:Xi.size,empty:Xi.empty,each:Xi.each,on:mi,attr:ti,attrTween:ai,style:Ni,styleTween:Ei,text:Ii,textTween:Oi,remove:wi,tween:Vr,delay:ui,duration:hi,ease:di,end:Yi};var Wi={time:null,delay:0,duration:250,ease:$i};function Ki(t,n){var e;while(!(e=t.__transition)||!(e=e[n]))if(!(t=t.parentNode))return Wi.time=ar(),Wi;return e}var Gi=function(t){var n,e;t instanceof zi?(n=t._id,t=t._name):(n=Vi(),(e=Wi).time=ar(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&Mr(o,t,n,l,s,e||Ki(o,n));return new zi(r,this._parents,t,n)};Bn.prototype.interrupt=Ur,Bn.prototype.transition=Gi;var Zi=function(t){return function(){return t}},Qi=function(t,n,e){this.target=t,this.type=n,this.selection=e};function Ji(){_n.stopImmediatePropagation()}var ta=function(){_n.preventDefault(),_n.stopImmediatePropagation()},na={name:"drag"},ea={name:"space"},ra={name:"handle"},ia={name:"center"};function aa(t){return[+t[0],+t[1]]}function oa(t){return[aa(t[0]),aa(t[1])]}function sa(t){return function(n){return We(n,_n.touches,t)}}var ua={name:"x",handles:["w","e"].map(ga),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},la={name:"y",handles:["n","s"].map(ga),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ca=(["n","w","e","s","nw","ne","sw","se"].map(ga),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),ha={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},fa={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},da={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},pa={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ga(t){return{type:t}}function ya(){return!_n.ctrlKey&&!_n.button}function va(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ma(){return navigator.maxTouchPoints||"ontouchstart"in this}function xa(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function wa(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ba(){return _a(ua)}function _a(t){var n,e=va,r=ya,i=ma,a=!0,o=X("start","brush","end"),s=6;function u(n){var e=n.property("__brush",g).selectAll(".overlay").data([ga("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ca.overlay).merge(e).each((function(){var t=xa(this).extent;On(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([ga("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ca.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return ca[t.type]})),n.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=On(this),n=xa(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-s/2:n[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-s/2:n[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,n,e){return!e&&t.__brush.emitter||new h(t,n)}function h(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function f(){if((!n||_n.touches)&&r.apply(this,arguments)){var e,i,o,s,u,h,f,d,p,g,y,v=this,m=_n.target.__data__.type,x="selection"===(a&&_n.metaKey?m="overlay":m)?na:a&&_n.altKey?ia:ra,w=t===la?null:da[m],b=t===ua?null:pa[m],_=xa(v),A=_.extent,M=_.selection,k=A[0][0],S=A[0][1],C=A[1][0],T=A[1][1],P=0,N=0,D=w&&b&&a&&_n.shiftKey,L=_n.touches?sa(_n.changedTouches[0].identifier):Ke,E=L(v),U=E,R=c(v,arguments,!0).beforestart();"overlay"===m?(M&&(p=!0),_.selection=M=[[e=t===la?k:E[0],o=t===ua?S:E[1]],[u=t===la?C:e,f=t===ua?T:o]]):(e=M[0][0],o=M[0][1],u=M[1][0],f=M[1][1]),i=e,s=o,h=u,d=f;var I=On(v).attr("pointer-events","none"),F=I.selectAll(".overlay").attr("cursor",ca[m]);if(_n.touches)R.moved=O,R.ended=Y;else{var B=On(_n.view).on("mousemove.brush",O,!0).on("mouseup.brush",Y,!0);a&&B.on("keydown.brush",j,!0).on("keyup.brush",z,!0),Yn(_n.view)}Ji(),Er(v),l.call(v),R.start()}function O(){var t=L(v);!D||g||y||(Math.abs(t[0]-U[0])>Math.abs(t[1]-U[1])?y=!0:g=!0),U=t,p=!0,ta(),H()}function H(){var t;switch(P=U[0]-E[0],N=U[1]-E[1],x){case ea:case na:w&&(P=Math.max(k-e,Math.min(C-u,P)),i=e+P,h=u+P),b&&(N=Math.max(S-o,Math.min(T-f,N)),s=o+N,d=f+N);break;case ra:w<0?(P=Math.max(k-e,Math.min(C-e,P)),i=e+P,h=u):w>0&&(P=Math.max(k-u,Math.min(C-u,P)),i=e,h=u+P),b<0?(N=Math.max(S-o,Math.min(T-o,N)),s=o+N,d=f):b>0&&(N=Math.max(S-f,Math.min(T-f,N)),s=o,d=f+N);break;case ia:w&&(i=Math.max(k,Math.min(C,e-P*w)),h=Math.max(k,Math.min(C,u+P*w))),b&&(s=Math.max(S,Math.min(T,o-N*b)),d=Math.max(S,Math.min(T,f+N*b)));break}h<i&&(w*=-1,t=e,e=u,u=t,t=i,i=h,h=t,m in ha&&F.attr("cursor",ca[m=ha[m]])),d<s&&(b*=-1,t=o,o=f,f=t,t=s,s=d,d=t,m in fa&&F.attr("cursor",ca[m=fa[m]])),_.selection&&(M=_.selection),g&&(i=M[0][0],h=M[1][0]),y&&(s=M[0][1],d=M[1][1]),M[0][0]===i&&M[0][1]===s&&M[1][0]===h&&M[1][1]===d||(_.selection=[[i,s],[h,d]],l.call(v),R.brush())}function Y(){if(Ji(),_n.touches){if(_n.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else jn(_n.view,p),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),F.attr("cursor",ca.overlay),_.selection&&(M=_.selection),wa(M)&&(_.selection=null,l.call(v)),R.end()}function j(){switch(_n.keyCode){case 16:D=w&&b;break;case 18:x===ra&&(w&&(u=h-P*w,e=i+P*w),b&&(f=d-N*b,o=s+N*b),x=ia,H());break;case 32:x!==ra&&x!==ia||(w<0?u=h-P:w>0&&(e=i-P),b<0?f=d-N:b>0&&(o=s-N),x=ea,F.attr("cursor",ca.selection),H());break;default:return}ta()}function z(){switch(_n.keyCode){case 16:D&&(g=y=D=!1,H());break;case 18:x===ia&&(w<0?u=h:w>0&&(e=i),b<0?f=d:b>0&&(o=s),x=ra,H());break;case 32:x===ea&&(_n.altKey?(w&&(u=h-P*w,e=i+P*w),b&&(f=d-N*b,o=s+N*b),x=ia):(w<0?u=h:w>0&&(e=i),b<0?f=d:b>0&&(o=s),x=ra),F.attr("cursor",ca[m]),H());break;default:return}ta()}}function d(){c(this,arguments).moved()}function p(){c(this,arguments).ended()}function g(){var n=this.__brush||{selection:null};return n.extent=oa(e.apply(this,arguments)),n.dim=t,n}return u.move=function(n,e){n.selection?n.on("start.brush",(function(){c(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){c(this,arguments).end()})).tween("brush",(function(){var n=this,r=n.__brush,i=c(n,arguments),a=r.selection,o=t.input("function"===typeof e?e.apply(this,arguments):e,r.extent),s=Ve(a,o);function u(t){r.selection=1===t&&null===o?null:s(t),l.call(n),i.brush()}return null!==a&&null!==o?u:u(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,a=t.input("function"===typeof e?e.apply(n,r):e,i.extent),o=c(n,r).beforestart();Er(n),i.selection=null===a?null:a,l.call(n),o.start().brush().end()}))},u.clear=function(t){u.move(t,null)},h.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){Nn(new Qi(u,n,t.output(this.state.selection)),o.apply,o,[n,this.that,this.args])}},u.extent=function(t){return arguments.length?(e="function"===typeof t?t:Zi(oa(t)),u):e},u.filter=function(t){return arguments.length?(r="function"===typeof t?t:Zi(!!t),u):r},u.touchable=function(t){return arguments.length?(i="function"===typeof t?t:Zi(!!t),u):i},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.keyModifiers=function(t){return arguments.length?(a=!!t,u):a},u.on=function(){var t=o.on.apply(o,arguments);return t===o?u:t},u}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Aa=Math.PI,Ma=2*Aa,ka=1e-6,Sa=Ma-ka;function Ca(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ta(){return new Ca}Ca.prototype=Ta.prototype={constructor:Ca,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,s=e-t,u=r-n,l=a-t,c=o-n,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>ka)if(Math.abs(c*s-u*l)>ka&&i){var f=e-a,d=r-o,p=s*s+u*u,g=f*f+d*d,y=Math.sqrt(p),v=Math.sqrt(h),m=i*Math.tan((Aa-Math.acos((p+h-g)/(2*y*v)))/2),x=m/v,w=m/y;Math.abs(x-1)>ka&&(this._+="L"+(t+x*l)+","+(n+x*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*d)+","+(this._x1=t+w*s)+","+(this._y1=n+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n,e=+e,a=!!a;var o=e*Math.cos(r),s=e*Math.sin(r),u=t+o,l=n+s,c=1^a,h=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>ka||Math.abs(this._y1-l)>ka)&&(this._+="L"+u+","+l),e&&(h<0&&(h=h%Ma+Ma),h>Sa?this._+="A"+e+","+e+",0,1,"+c+","+(t-o)+","+(n-s)+"A"+e+","+e+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>ka&&(this._+="A"+e+","+e+",0,"+ +(h>=Aa)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Pa="$";function Na(){}function Da(t,n){var e=new Na;if(t instanceof Na)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==n)while(++i<a)e.set(i,t[i]);else while(++i<a)e.set(n(r=t[i],i,t),r)}else if(t)for(var o in t)e.set(o,t[o]);return e}Na.prototype=Da.prototype={constructor:Na,has:function(t){return Pa+t in this},get:function(t){return this[Pa+t]},set:function(t,n){return this[Pa+t]=n,this},remove:function(t){var n=Pa+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Pa&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Pa&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Pa&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Pa&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Pa&&++t;return t},empty:function(){for(var t in this)if(t[0]===Pa)return!1;return!0},each:function(t){for(var n in this)n[0]===Pa&&t(this[n],n.slice(1),this)}};var La=Da;function Ea(){}var Ua=La.prototype;function Ra(t,n){var e=new Ea;if(t instanceof Ea)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)while(++r<i)e.add(t[r]);else while(++r<i)e.add(n(t[r],r,t))}return e}Ea.prototype=Ra.prototype={constructor:Ea,has:Ua.has,add:function(t){return t+="",this[Pa+t]=t,this},remove:Ua.remove,clear:Ua.clear,values:Ua.keys,size:Ua.size,empty:Ua.empty,each:Ua.each};var Ia=Array.prototype;Ia.slice;var Fa=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Ba(this.cover(n,e),n,e,t)};function Ba(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,a,o,s,u,l,c,h,f,d=t._root,p={data:r},g=t._x0,y=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=p,t;while(d.length)if((l=n>=(a=(g+v)/2))?g=a:v=a,(c=e>=(o=(y+m)/2))?y=o:m=o,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),n===s&&e===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=n>=(a=(g+v)/2))?g=a:v=a,(c=e>=(o=(y+m)/2))?y=o:m=o}while((h=c<<1|l)===(f=(u>=o)<<1|s>=a));return i[f]=d,i[h]=p,t}function Oa(t){var n,e,r,i,a=t.length,o=new Array(a),s=new Array(a),u=1/0,l=1/0,c=-1/0,h=-1/0;for(e=0;e<a;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(o[e]=r,s[e]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),e=0;e<a;++e)Ba(this,o[e],s[e],t[e]);return this}var Ha=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,a=(r=Math.floor(n))+1;else{var o,s,u=i-e,l=this._root;while(e>t||t>=i||r>n||n>=a)switch(s=(n<r)<<1|t<e,o=new Array(4),o[s]=l,l=o,u*=2,s){case 0:i=e+u,a=r+u;break;case 1:e=i-u,a=r+u;break;case 2:i=e+u,r=a-u;break;case 3:e=i-u,r=a-u;break}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=a,this},Ya=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},ja=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},za=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i},qa=function(t,n,e){var r,i,a,o,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;g&&p.push(new za(g,c,h,f,d)),null==e?e=1/0:(c=t-e,h=n-e,f=t+e,d=n+e,e*=e);while(u=p.pop())if(!(!(g=u.node)||(i=u.x0)>f||(a=u.y0)>d||(o=u.x1)<c||(s=u.y1)<h))if(g.length){var y=(i+o)/2,v=(a+s)/2;p.push(new za(g[3],y,v,o,s),new za(g[2],i,v,y,s),new za(g[1],y,a,o,v),new za(g[0],i,a,y,v)),(l=(n>=v)<<1|t>=y)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var m=t-+this._x.call(null,g.data),x=n-+this._y.call(null,g.data),w=m*m+x*x;if(w<e){var b=Math.sqrt(e=w);c=t-b,h=n-b,f=t+b,d=n+b,r=g.data}}return r},Va=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,r,i,a,o,s,u,l,c,h,f,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)while(1){if((l=a>=(s=(p+y)/2))?p=s:y=s,(c=o>=(u=(g+v)/2))?g=u:v=u,n=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,f=h)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[f]=d:this._root=d),this):(this._root=i,this)};function Xa(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}var $a=function(){return this._root},Wa=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Ka=function(t){var n,e,r,i,a,o,s=[],u=this._root;u&&s.push(new za(u,this._x0,this._y0,this._x1,this._y1));while(n=s.pop())if(!t(u=n.node,r=n.x0,i=n.y0,a=n.x1,o=n.y1)&&u.length){var l=(r+a)/2,c=(i+o)/2;(e=u[3])&&s.push(new za(e,l,c,a,o)),(e=u[2])&&s.push(new za(e,r,c,l,o)),(e=u[1])&&s.push(new za(e,l,i,a,c)),(e=u[0])&&s.push(new za(e,r,i,l,c))}return this},Ga=function(t){var n,e=[],r=[];this._root&&e.push(new za(this._root,this._x0,this._y0,this._x1,this._y1));while(n=e.pop()){var i=n.node;if(i.length){var a,o=n.x0,s=n.y0,u=n.x1,l=n.y1,c=(o+u)/2,h=(s+l)/2;(a=i[0])&&e.push(new za(a,o,s,c,h)),(a=i[1])&&e.push(new za(a,c,s,u,h)),(a=i[2])&&e.push(new za(a,o,h,c,l)),(a=i[3])&&e.push(new za(a,c,h,u,l))}r.push(n)}while(n=r.pop())t(n.node,n.x0,n.y0,n.x1,n.y1);return this};function Za(t){return t[0]}var Qa=function(t){return arguments.length?(this._x=t,this):this._x};function Ja(t){return t[1]}var to=function(t){return arguments.length?(this._y=t,this):this._y};function no(t,n,e){var r=new eo(null==n?Za:n,null==e?Ja:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function eo(t,n,e,r,i,a){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function ro(t){var n={data:t.data},e=n;while(t=t.next)e=e.next={data:t.data};return n}var io=no.prototype=eo.prototype;io.copy=function(){var t,n,e=new eo(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ro(r),e;t=[{source:r,target:e._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ro(n));return e},io.add=Fa,io.addAll=Oa,io.cover=Ha,io.data=Ya,io.extent=ja,io.find=qa,io.remove=Va,io.removeAll=Xa,io.root=$a,io.size=Wa,io.visit=Ka,io.visitAfter=Ga,io.x=Qa,io.y=to;Math.PI,Math.sqrt(5);var ao=function(){return Math.random()},oo=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(ao),function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var a;if(null!=r)a=r,r=null;else do{r=2*n()-1,a=2*n()-1,i=r*r+a*a}while(!i||i>1);return t+e*a*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(ao)),so=(function t(n){function e(){var t=oo.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(ao),function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(ao));(function t(n){function e(t){var e=so.source(n)(t);return function(){return e()/t}}return e.source=t,e})(ao),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(ao);function uo(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}var lo=Array.prototype,co=lo.map,ho=lo.slice,fo={name:"implicit"};function po(){var t=La(),n=[],e=[],r=fo;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==fo)return r;t.set(a,o=n.push(i))}return e[(o-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=La();var r,a,o=-1,s=e.length;while(++o<s)t.has(a=(r=e[o])+"")||t.set(a,n.push(r));return i},i.range=function(t){return arguments.length?(e=ho.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return po(n,e).unknown(r)},uo.apply(i,arguments),i}function go(){var t,n,e=po().unknown(void 0),r=e.domain,i=e.range,a=[0,1],o=!1,s=0,u=0,l=.5;function c(){var e=r().length,c=a[1]<a[0],h=a[c-0],f=a[1-c];t=(f-h)/Math.max(1,e-s+2*u),o&&(t=Math.floor(t)),h+=(f-h-t*(e-s))*l,n=t*(1-s),o&&(h=Math.round(h),n=Math.round(n));var d=g(e).map((function(n){return h+t*n}));return i(c?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),c()):r()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],c()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,c()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,c()):o},e.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),c()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),c()):s},e.paddingOuter=function(t){return arguments.length?(u=+t,c()):u},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},e.copy=function(){return go(r(),a).round(o).paddingInner(s).paddingOuter(u).align(l)},uo.apply(c(),arguments)}var yo=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}},vo=function(t){return function(){return t}},mo=function(t){return+t},xo=[0,1];function wo(t){return t}function bo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:vo(isNaN(n)?NaN:.5)}function _o(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Ao(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=bo(i,r),a=e(o,a)):(r=bo(r,i),a=e(a,o)),function(t){return a(r(t))}}function Mo(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++o<r)i[o]=bo(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=d(t,n,1,r)-1;return a[e](i[e](n))}}function ko(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function So(){var t,n,e,r,i,a,o=xo,s=xo,u=Ve,l=wo;function c(){return r=Math.min(o.length,s.length)>2?Mo:Ao,i=a=null,h}function h(n){return isNaN(n=+n)?e:(i||(i=r(o.map(t),s,u)))(t(l(n)))}return h.invert=function(e){return l(n((a||(a=r(s,o.map(t),Ie)))(e)))},h.domain=function(t){return arguments.length?(o=co.call(t,mo),l===wo||(l=_o(o)),c()):o.slice()},h.range=function(t){return arguments.length?(s=ho.call(t),c()):s.slice()},h.rangeRound=function(t){return s=ho.call(t),u=yo,c()},h.clamp=function(t){return arguments.length?(l=t?_o(o):wo,h):l!==wo},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,c()}}function Co(t,n){return So()(t,n)}var To=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Po(t){if(!(n=To.exec(t)))throw new Error("invalid format: "+t);var n;return new No({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function No(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Po.prototype=No.prototype,No.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Do,Lo,Eo,Uo,Ro=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Io=function(t){return t=Ro(Math.abs(t)),t?t[1]:NaN},Fo=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Io(n)/3)))-Io(Math.abs(t)))},Bo=function(t,n){return function(e,r){var i=e.length,a=[],o=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),(u+=s+1)>r)break;s=t[o=(o+1)%t.length]}return a.reverse().join(n)}},Oo=function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}},Ho=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(n+1):t},Yo=function(t,n){var e=Ro(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Do=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ro(t,Math.max(0,n+a-1))[0]},jo=function(t,n){var e=Ro(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},zo={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return jo(100*t,n)},r:jo,s:Yo,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},qo=function(t){return t},Vo=Array.prototype.map,Xo=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],$o=function(t){var n=void 0===t.grouping||void 0===t.thousands?qo:Bo(Vo.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?qo:Oo(Vo.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function l(t){t=Po(t);var l=t.fill,c=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,v=t.trim,m=t.type;"n"===m?(g=!0,m="g"):zo[m]||(void 0===y&&(y=12),v=!0,m="g"),(d||"0"===l&&"="===c)&&(d=!0,l="0",c="=");var x="$"===f?e:"#"===f&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===f?r:/[%p]/.test(m)?o:"",b=zo[m],_=/[defgprs%]/.test(m);function A(t){var e,r,o,f=x,A=w;if("c"===m)A=b(t)+A,t="";else{t=+t;var M=t<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),y),v&&(t=Ho(t)),M&&0===+t&&"+"!==h&&(M=!1),f=(M?"("===h?h:s:"-"===h||"("===h?"":h)+f,A=("s"===m?Xo[8+Do/3]:"")+A+(M&&"("===h?")":""),_){e=-1,r=t.length;while(++e<r)if(o=t.charCodeAt(e),48>o||o>57){A=(46===o?i+t.slice(e+1):t.slice(e))+A,t=t.slice(0,e);break}}}g&&!d&&(t=n(t,1/0));var k=f.length+t.length+A.length,S=k<p?new Array(p-k+1).join(l):"";switch(g&&d&&(t=n(S+t,S.length?p-A.length:1/0),S=""),c){case"<":t=f+t+A+S;break;case"=":t=f+S+t+A;break;case"^":t=S.slice(0,k=S.length>>1)+f+t+A+S.slice(k);break;default:t=S+f+t+A;break}return a(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),A.toString=function(){return t+""},A}function c(t,n){var e=l((t=Po(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Io(n)/3))),i=Math.pow(10,-r),a=Xo[8+r/3];return function(t){return e(i*t)+a}}return{format:l,formatPrefix:c}};function Wo(t){return Lo=$o(t),Eo=Lo.format,Uo=Lo.formatPrefix,Lo}Wo({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Ko=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Io(n)-Io(t))+1},Go=function(t){return Math.max(0,-Io(Math.abs(t)))},Zo=function(t,n,e,r){var i,a=b(t,n,e);switch(r=Po(null==r?",f":r),r.type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Fo(a,o))||(r.precision=i),Uo(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ko(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Go(a))||(r.precision=i-2*("%"===r.type));break}return Eo(r)};function Qo(t){var n=t.domain;return t.ticks=function(t){var e=n();return x(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Zo(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),a=0,o=i.length-1,s=i[a],u=i[o];return u<s&&(r=s,s=u,u=r,r=a,a=o,o=r),r=w(s,u,e),r>0?(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,r=w(s,u,e)):r<0&&(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,r=w(s,u,e)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(u/r)*r,n(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(u*r)/r,n(i)),t},t}function Jo(){var t=Co(wo,wo);return t.copy=function(){return ko(t,Jo())},uo.apply(t,arguments),Qo(t)}var ts=function(t,n){t=t.slice();var e,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),t[r]=n.floor(a),t[i]=n.ceil(o),t};function ns(){var t,n=0,e=1,r=1,i=[.5],a=[0,1];function o(n){return n<=n?a[d(i,n,0,r)]:t}function s(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*e-(t-r)*n)/(r+1);return o}return o.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],s()):[n,e]},o.range=function(t){return arguments.length?(r=(a=ho.call(t)).length-1,s()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[n,i[0]]:o>=r?[i[r-1],e]:[i[o-1],i[o]]},o.unknown=function(n){return arguments.length?(t=n,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return ns().domain([n,e]).range(a).unknown(t)},uo.apply(Qo(o),arguments)}var es=new Date,rs=new Date;function is(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,a){var o,s=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r)||!(a>0))return s;do{s.push(o=new Date(+e)),n(e,a),t(e)}while(o<e&&e<r);return s},i.filter=function(e){return is((function(n){if(n>=n)while(t(n),!e(n))n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)while(++r<=0)while(n(t,-1),!e(t));else while(--r>=0)while(n(t,1),!e(t));}))},e&&(i.count=function(n,r){return es.setTime(+n),rs.setTime(+r),t(es),t(rs),Math.floor(e(es,rs))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t===0}:function(n){return i.count(0,n)%t===0}):i:null}),i}var as=is((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));as.every=function(t){return isFinite(t=Math.floor(t))&&t>0?is((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var os=as,ss=(as.range,is((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),us=ss,ls=(ss.range,1e3),cs=6e4,hs=36e5,fs=864e5,ds=6048e5;function ps(t){return is((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*cs)/ds}))}var gs=ps(0),ys=ps(1),vs=ps(2),ms=ps(3),xs=ps(4),ws=ps(5),bs=ps(6),_s=(gs.range,ys.range,vs.range,ms.range,xs.range,ws.range,bs.range,is((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*cs)/fs}),(function(t){return t.getDate()-1}))),As=_s,Ms=(_s.range,is((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls-t.getMinutes()*cs)}),(function(t,n){t.setTime(+t+n*hs)}),(function(t,n){return(n-t)/hs}),(function(t){return t.getHours()}))),ks=Ms,Ss=(Ms.range,is((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls)}),(function(t,n){t.setTime(+t+n*cs)}),(function(t,n){return(n-t)/cs}),(function(t){return t.getMinutes()}))),Cs=Ss,Ts=(Ss.range,is((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*ls)}),(function(t,n){return(n-t)/ls}),(function(t){return t.getUTCSeconds()}))),Ps=Ts,Ns=(Ts.range,is((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));Ns.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?is((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):Ns:null};var Ds=Ns;Ns.range;function Ls(t){return is((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/ds}))}var Es=Ls(0),Us=Ls(1),Rs=Ls(2),Is=Ls(3),Fs=Ls(4),Bs=Ls(5),Os=Ls(6),Hs=(Es.range,Us.range,Rs.range,Is.range,Fs.range,Bs.range,Os.range,is((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/fs}),(function(t){return t.getUTCDate()-1}))),Ys=Hs,js=(Hs.range,is((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));js.every=function(t){return isFinite(t=Math.floor(t))&&t>0?is((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var zs=js;js.range;function qs(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vs(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xs(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function $s(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,l=eu(i),c=ru(i),h=eu(a),f=ru(a),d=eu(o),p=ru(o),g=eu(s),y=ru(s),v=eu(u),m=ru(u),x={a:E,A:U,b:R,B:I,c:null,d:Mu,e:Mu,f:Pu,H:ku,I:Su,j:Cu,L:Tu,m:Nu,M:Du,p:F,q:B,Q:al,s:ol,S:Lu,u:Eu,U:Uu,V:Ru,w:Iu,W:Fu,x:null,X:null,y:Bu,Y:Ou,Z:Hu,"%":il},w={a:O,A:H,b:Y,B:j,c:null,d:Yu,e:Yu,f:Xu,H:ju,I:zu,j:qu,L:Vu,m:$u,M:Wu,p:z,q:q,Q:al,s:ol,S:Ku,u:Gu,U:Zu,V:Qu,w:Ju,W:tl,x:null,X:null,y:nl,Y:el,Z:rl,"%":il},b={a:S,A:C,b:T,B:P,c:N,d:pu,e:pu,f:wu,H:yu,I:yu,j:gu,L:xu,m:du,M:vu,p:k,q:fu,Q:_u,s:Au,S:mu,u:au,U:ou,V:su,w:iu,W:uu,x:D,X:L,y:cu,Y:lu,Z:hu,"%":bu};function _(t,n){return function(e){var r,i,a,o=[],s=-1,u=0,l=t.length;e instanceof Date||(e=new Date(+e));while(++s<l)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(i=Gs[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),o.push(r),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function A(t,n){return function(e){var r,i,a=Xs(1900,void 0,1),o=M(a,t,e+="",0);if(o!=e.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(n&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=Vs(Xs(a.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?Us.ceil(r):Us(r),r=Ys.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(r=qs(Xs(a.y,0,1)),i=r.getDay(),r=i>4||0===i?ys.ceil(r):ys(r),r=As.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Vs(Xs(a.y,0,1)).getUTCDay():qs(Xs(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Vs(a)):qs(a)}}function M(t,n,e,r){var i,a,o=0,s=n.length,u=e.length;while(o<s){if(r>=u)return-1;if(i=n.charCodeAt(o++),37===i){if(i=n.charAt(o++),a=b[i in Gs?n.charAt(o++):i],!a||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function k(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=c[r[0].toLowerCase()],e+r[0].length):-1}function S(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1}function C(t,n,e){var r=h.exec(n.slice(e));return r?(t.w=f[r[0].toLowerCase()],e+r[0].length):-1}function T(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1}function P(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1}function N(t,e,r){return M(t,n,e,r)}function D(t,n,r){return M(t,e,n,r)}function L(t,n,e){return M(t,r,n,e)}function E(t){return o[t.getDay()]}function U(t){return a[t.getDay()]}function R(t){return u[t.getMonth()]}function I(t){return s[t.getMonth()]}function F(t){return i[+(t.getHours()>=12)]}function B(t){return 1+~~(t.getMonth()/3)}function O(t){return o[t.getUTCDay()]}function H(t){return a[t.getUTCDay()]}function Y(t){return u[t.getUTCMonth()]}function j(t){return s[t.getUTCMonth()]}function z(t){return i[+(t.getUTCHours()>=12)]}function q(t){return 1+~~(t.getUTCMonth()/3)}return x.x=_(e,x),x.X=_(r,x),x.c=_(n,x),w.x=_(e,w),w.X=_(r,w),w.c=_(n,w),{format:function(t){var n=_(t+="",x);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=_(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t+="",!0);return n.toString=function(){return t},n}}}var Ws,Ks,Gs={"-":"",_:" ",0:"0"},Zs=/^\s*\d+/,Qs=/^%/,Js=/[\\^$*+?|[\]().{}]/g;function tu(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function nu(t){return t.replace(Js,"\\$&")}function eu(t){return new RegExp("^(?:"+t.map(nu).join("|")+")","i")}function ru(t){var n={},e=-1,r=t.length;while(++e<r)n[t[e].toLowerCase()]=e;return n}function iu(t,n,e){var r=Zs.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function au(t,n,e){var r=Zs.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function ou(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function su(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function uu(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function lu(t,n,e){var r=Zs.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function cu(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function hu(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function fu(t,n,e){var r=Zs.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function du(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function pu(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function gu(t,n,e){var r=Zs.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function yu(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function vu(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function mu(t,n,e){var r=Zs.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function xu(t,n,e){var r=Zs.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function wu(t,n,e){var r=Zs.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function bu(t,n,e){var r=Qs.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function _u(t,n,e){var r=Zs.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Au(t,n,e){var r=Zs.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Mu(t,n){return tu(t.getDate(),n,2)}function ku(t,n){return tu(t.getHours(),n,2)}function Su(t,n){return tu(t.getHours()%12||12,n,2)}function Cu(t,n){return tu(1+As.count(os(t),t),n,3)}function Tu(t,n){return tu(t.getMilliseconds(),n,3)}function Pu(t,n){return Tu(t,n)+"000"}function Nu(t,n){return tu(t.getMonth()+1,n,2)}function Du(t,n){return tu(t.getMinutes(),n,2)}function Lu(t,n){return tu(t.getSeconds(),n,2)}function Eu(t){var n=t.getDay();return 0===n?7:n}function Uu(t,n){return tu(gs.count(os(t)-1,t),n,2)}function Ru(t,n){var e=t.getDay();return t=e>=4||0===e?xs(t):xs.ceil(t),tu(xs.count(os(t),t)+(4===os(t).getDay()),n,2)}function Iu(t){return t.getDay()}function Fu(t,n){return tu(ys.count(os(t)-1,t),n,2)}function Bu(t,n){return tu(t.getFullYear()%100,n,2)}function Ou(t,n){return tu(t.getFullYear()%1e4,n,4)}function Hu(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+tu(n/60|0,"0",2)+tu(n%60,"0",2)}function Yu(t,n){return tu(t.getUTCDate(),n,2)}function ju(t,n){return tu(t.getUTCHours(),n,2)}function zu(t,n){return tu(t.getUTCHours()%12||12,n,2)}function qu(t,n){return tu(1+Ys.count(zs(t),t),n,3)}function Vu(t,n){return tu(t.getUTCMilliseconds(),n,3)}function Xu(t,n){return Vu(t,n)+"000"}function $u(t,n){return tu(t.getUTCMonth()+1,n,2)}function Wu(t,n){return tu(t.getUTCMinutes(),n,2)}function Ku(t,n){return tu(t.getUTCSeconds(),n,2)}function Gu(t){var n=t.getUTCDay();return 0===n?7:n}function Zu(t,n){return tu(Es.count(zs(t)-1,t),n,2)}function Qu(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Fs(t):Fs.ceil(t),tu(Fs.count(zs(t),t)+(4===zs(t).getUTCDay()),n,2)}function Ju(t){return t.getUTCDay()}function tl(t,n){return tu(Us.count(zs(t)-1,t),n,2)}function nl(t,n){return tu(t.getUTCFullYear()%100,n,2)}function el(t,n){return tu(t.getUTCFullYear()%1e4,n,4)}function rl(){return"+0000"}function il(){return"%"}function al(t){return+t}function ol(t){return Math.floor(+t/1e3)}function sl(t){return Ws=$s(t),Ks=Ws.format,Ws.parse,Ws.utcFormat,Ws.utcParse,Ws}sl({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ul=1e3,ll=60*ul,cl=60*ll,hl=24*cl,fl=7*hl,dl=30*hl,pl=365*hl;function gl(t){return new Date(t)}function yl(t){return t instanceof Date?+t:+new Date(+t)}function vl(t,n,e,r,i,a,o,s,u){var c=Co(wo,wo),h=c.invert,f=c.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),m=u("%b %d"),x=u("%B"),w=u("%Y"),_=[[o,1,ul],[o,5,5*ul],[o,15,15*ul],[o,30,30*ul],[a,1,ll],[a,5,5*ll],[a,15,15*ll],[a,30,30*ll],[i,1,cl],[i,3,3*cl],[i,6,6*cl],[i,12,12*cl],[r,1,hl],[r,2,2*hl],[e,1,fl],[n,1,dl],[n,3,3*dl],[t,1,pl]];function A(s){return(o(s)<s?d:a(s)<s?p:i(s)<s?g:r(s)<s?y:n(s)<s?e(s)<s?v:m:t(s)<s?x:w)(s)}function M(n,e,r,i){if(null==n&&(n=10),"number"===typeof n){var a=Math.abs(r-e)/n,o=l((function(t){return t[2]})).right(_,a);o===_.length?(i=b(e/pl,r/pl,n),n=t):o?(o=_[a/_[o-1][2]<_[o][2]/a?o-1:o],i=o[1],n=o[0]):(i=Math.max(b(e,r,n),1),n=s)}return null==i?n:n.every(i)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(co.call(t,yl)):f().map(gl)},c.ticks=function(t,n){var e,r=f(),i=r[0],a=r[r.length-1],o=a<i;return o&&(e=i,i=a,a=e),e=M(t,i,a,n),e=e?e.range(i,a+1):[],o?e.reverse():e},c.tickFormat=function(t,n){return null==n?A:u(n)},c.nice=function(t,n){var e=f();return(t=M(t,e[0],e[e.length-1],n))?f(ts(e,t)):c},c.copy=function(){return ko(c,vl(t,n,e,r,i,a,o,s,u))},c}var ml=function(){return uo.apply(vl(os,us,gs,As,ks,Cs,Ps,Ds,Ks).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},xl=is((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),wl=(xl.range,is((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*hs)}),(function(t,n){return(n-t)/hs}),(function(t){return t.getUTCHours()}))),bl=(wl.range,is((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*cs)}),(function(t,n){return(n-t)/cs}),(function(t){return t.getUTCMinutes()})));bl.range;var _l=function(t){return"string"===typeof t?new In([document.querySelectorAll(t)],[document.documentElement]):new In([null==t?[]:t],Rn)};function Al(){this._=null}function Ml(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function kl(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Sl(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Cl(t){while(t.L)t=t.L;return t}Al.prototype={constructor:Al,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){t=t.R;while(t.L)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Cl(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);n.L=n.R=null,n.U=e,n.C=!0,t=n;while(e&&e.C)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(kl(this,e),t=e,e=t.U),e.C=!1,r.C=!0,Sl(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(Sl(this,e),t=e,e=t.U),e.C=!1,r.C=!0,kl(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,a=t.L,o=t.R;if(e=a?o?Cl(o):a:o,i?i.L===t?i.L=e:i.R=e:this._=e,a&&o?(r=e.C,e.C=t.C,e.L=a,a.U=e,e!==o?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=o,o.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,kl(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Sl(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,kl(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,Sl(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,kl(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,Sl(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Tl=Al;function Pl(t,n,e,r){var i=[null,null],a=rc.push(i)-1;return i.left=t,i.right=n,e&&Dl(i,t,n,e),r&&Dl(i,n,t,r),nc[t.index].halfedges.push(a),nc[n.index].halfedges.push(a),i}function Nl(t,n,e){var r=[n,e];return r.left=t,r}function Dl(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Ll(t,n,e,r,i){var a,o=t[0],s=t[1],u=o[0],l=o[1],c=s[0],h=s[1],f=0,d=1,p=c-u,g=h-l;if(a=n-u,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>f&&(f=a)}if(a=r-u,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<d&&(d=a)}if(a=e-l,g||!(a>0)){if(a/=g,g<0){if(a<f)return;a<d&&(d=a)}else if(g>0){if(a>d)return;a>f&&(f=a)}if(a=i-l,g||!(a<0)){if(a/=g,g<0){if(a>d)return;a>f&&(f=a)}else if(g>0){if(a<f)return;a<d&&(d=a)}return!(f>0||d<1)||(f>0&&(t[0]=[u+f*p,l+f*g]),d<1&&(t[1]=[u+d*p,l+d*g]),!0)}}}}}function El(t,n,e,r,i){var a=t[1];if(a)return!0;var o,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],g=(h+d)/2,y=(f+p)/2;if(p===f){if(g<n||g>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[g,e];a=[g,i]}else{if(u){if(u[1]<e)return}else u=[g,i];a=[g,e]}}else if(o=(h-d)/(p-f),s=y-o*g,o<-1||o>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(e-s)/o,e];a=[(i-s)/o,i]}else{if(u){if(u[1]<e)return}else u=[(i-s)/o,i];a=[(e-s)/o,e]}else if(f<p){if(u){if(u[0]>=r)return}else u=[n,o*n+s];a=[r,o*r+s]}else{if(u){if(u[0]<n)return}else u=[r,o*r+s];a=[n,o*n+s]}return t[0]=u,t[1]=a,!0}function Ul(t,n,e,r){var i,a=rc.length;while(a--)El(i=rc[a],t,n,e,r)&&Ll(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>ic||Math.abs(i[0][1]-i[1][1])>ic)||delete rc[a]}function Rl(t){return nc[t.index]={site:t,halfedges:[]}}function Il(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Fl(t,n){return n[+(n.left!==t.site)]}function Bl(t,n){return n[+(n.left===t.site)]}function Ol(){for(var t,n,e,r,i=0,a=nc.length;i<a;++i)if((t=nc[i])&&(r=(n=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(e=0;e<r;++e)o[e]=e,s[e]=Il(t,rc[n[e]]);for(o.sort((function(t,n){return s[n]-s[t]})),e=0;e<r;++e)s[e]=n[o[e]];for(e=0;e<r;++e)n[e]=s[e]}}function Hl(t,n,e,r){var i,a,o,s,u,l,c,h,f,d,p,g,y=nc.length,v=!0;for(i=0;i<y;++i)if(a=nc[i]){o=a.site,u=a.halfedges,s=u.length;while(s--)rc[u[s]]||u.splice(s,1);s=0,l=u.length;while(s<l)d=Bl(a,rc[u[s]]),p=d[0],g=d[1],c=Fl(a,rc[u[++s%l]]),h=c[0],f=c[1],(Math.abs(p-h)>ic||Math.abs(g-f)>ic)&&(u.splice(s,0,rc.push(Nl(o,d,Math.abs(p-t)<ic&&r-g>ic?[t,Math.abs(h-t)<ic?f:r]:Math.abs(g-r)<ic&&e-p>ic?[Math.abs(f-r)<ic?h:e,r]:Math.abs(p-e)<ic&&g-n>ic?[e,Math.abs(h-e)<ic?f:n]:Math.abs(g-n)<ic&&p-t>ic?[Math.abs(f-n)<ic?h:t,n]:null))-1),++l);l&&(v=!1)}if(v){var m,x,w,b=1/0;for(i=0,v=null;i<y;++i)(a=nc[i])&&(o=a.site,m=o[0]-t,x=o[1]-n,w=m*m+x*x,w<b&&(b=w,v=a));if(v){var _=[t,n],A=[t,r],M=[e,r],k=[e,n];v.halfedges.push(rc.push(Nl(o=v.site,_,A))-1,rc.push(Nl(o,A,M))-1,rc.push(Nl(o,M,k))-1,rc.push(Nl(o,k,_))-1)}}for(i=0;i<y;++i)(a=nc[i])&&(a.halfedges.length||delete nc[i])}var Yl,jl=[];function zl(){Ml(this),this.x=this.y=this.arc=this.site=this.cy=null}function ql(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,a=e.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,l=r[1]-s,c=a[0]-o,h=a[1]-s,f=2*(u*h-l*c);if(!(f>=-ac)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,y=(u*p-c*d)/f,v=jl.pop()||new zl;v.arc=t,v.site=i,v.x=g+o,v.y=(v.cy=y+s)+Math.sqrt(g*g+y*y),t.circle=v;var m=null,x=ec._;while(x)if(v.y<x.y||v.y===x.y&&v.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}ec.insert(m,v),m||(Yl=v)}}}}function Vl(t){var n=t.circle;n&&(n.P||(Yl=n.N),ec.remove(n),jl.push(n),Ml(n),t.circle=null)}var Xl=[];function $l(){Ml(this),this.edge=this.site=this.circle=null}function Wl(t){var n=Xl.pop()||new $l;return n.site=t,n}function Kl(t){Vl(t),tc.remove(t),Xl.push(t),Ml(t)}function Gl(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],a=t.P,o=t.N,s=[t];Kl(t);var u=a;while(u.circle&&Math.abs(e-u.circle.x)<ic&&Math.abs(r-u.circle.cy)<ic)a=u.P,s.unshift(u),Kl(u),u=a;s.unshift(u),Vl(u);var l=o;while(l.circle&&Math.abs(e-l.circle.x)<ic&&Math.abs(r-l.circle.cy)<ic)o=l.N,s.push(l),Kl(l),l=o;s.push(l),Vl(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],Dl(l.edge,u.site,l.site,i);u=s[0],l=s[h-1],l.edge=Pl(u.site,l.site,null,i),ql(u),ql(l)}function Zl(t){var n,e,r,i,a=t[0],o=t[1],s=tc._;while(s)if(r=Ql(s,o)-a,r>ic)s=s.L;else{if(i=a-Jl(s,o),!(i>ic)){r>-ic?(n=s.P,e=s):i>-ic?(n=s,e=s.N):n=e=s;break}if(!s.R){n=s;break}s=s.R}Rl(t);var u=Wl(t);if(tc.insert(n,u),n||e){if(n===e)return Vl(n),e=Wl(n.site),tc.insert(u,e),u.edge=e.edge=Pl(n.site,u.site),ql(n),void ql(e);if(e){Vl(n),Vl(e);var l=n.site,c=l[0],h=l[1],f=t[0]-c,d=t[1]-h,p=e.site,g=p[0]-c,y=p[1]-h,v=2*(f*y-d*g),m=f*f+d*d,x=g*g+y*y,w=[(y*m-d*x)/v+c,(f*x-g*m)/v+h];Dl(e.edge,l,p,w),u.edge=Pl(l,t,null,w),e.edge=Pl(t,p,null,w),ql(n),ql(e)}else u.edge=Pl(n.site,u.site)}}function Ql(t,n){var e=t.site,r=e[0],i=e[1],a=i-n;if(!a)return r;var o=t.P;if(!o)return-1/0;e=o.site;var s=e[0],u=e[1],l=u-n;if(!l)return s;var c=s-r,h=1/a-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-a/2)))/h+r:(r+s)/2}function Jl(t,n){var e=t.N;if(e)return Ql(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var tc,nc,ec,rc,ic=1e-6,ac=1e-12;function oc(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function sc(t,n){return n[1]-t[1]||n[0]-t[0]}function uc(t,n){var e,r,i,a=t.sort(sc).pop();rc=[],nc=new Array(t.length),tc=new Tl,ec=new Tl;while(1)if(i=Yl,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===e&&a[1]===r||(Zl(a),e=a[0],r=a[1]),a=t.pop();else{if(!i)break;Gl(i.arc)}if(Ol(),n){var o=+n[0][0],s=+n[0][1],u=+n[1][0],l=+n[1][1];Ul(o,s,u,l),Hl(o,s,u,l)}this.edges=rc,this.cells=nc,tc=ec=rc=nc=null}uc.prototype={constructor:uc,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return Fl(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(a=(i=e.halfedges).length){var i,a,o,s=e.site,u=-1,l=n[i[a-1]],c=l.left===s?l.right:l.left;while(++u<a)o=c,l=n[i[u]],c=l.left===s?l.right:l.left,o&&c&&r<o.index&&r<c.index&&oc(s,o,c)<0&&t.push([s.data,o.data,c.data])}})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){var r,i,a=this,o=a._found||0,s=a.cells.length;while(!(i=a.cells[o]))if(++o>=s)return null;var u=t-i.site[0],l=n-i.site[1],c=u*u+l*l;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(e){var r=a.edges[e],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=n-s[1],h=u*u+l*l;h<c&&(c=h,o=s.index)}}))}while(null!==o);return a._found=r,null==e||c<=e*e?i.site:null}};Math.SQRT2;function lc(t,n,e){this.k=t,this.x=n,this.y=e}lc.prototype={constructor:lc,scale:function(t){return 1===t?this:new lc(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new lc(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cc=new lc(1,0,0);function hc(t){while(!t.__zoom)if(!(t=t.parentNode))return cc;return t.__zoom}hc.prototype=lc.prototype;var fc={name:"BarChart",props:["options"],data:function(){return{barChart:null,g:null,chart:null,title:null,legend:null,tooltip:null,legendBox:null,brush:null,gBrush:null,legendWidth:80,legendHeight:170,titleText:"Simple Bar Chart",titleRectWidth:460,titleRectHeight:40,xAxis:null,yAxis:null,xscale:null,yscale:null,nameArray:null,valueArray:null,width:460,height:460,chartPadding:{top:80,right:80,bottom:80,left:80},tooltipPadding:{top:5,right:5,bottom:5,left:5},originData:[{name:"ç¾å½",value:2722,color:"#BCA2A2"},{name:"æå¤§å©",value:2150,color:"#E0B09F"},{name:"ä¿ç½æ¯",value:1612,color:"#CAD9B0"},{name:"å·´è¥¿",value:1474,color:"#B0C4D9"},{name:"è±å½",value:1800,color:"#C6B0D9"},{name:"å¶ä»",value:2233,color:"#F2DEAA"}],data:[{name:"ç¾å½",value:2722,color:"#BCA2A2"},{name:"æå¤§å©",value:2150,color:"#E0B09F"},{name:"ä¿ç½æ¯",value:1612,color:"#CAD9B0"},{name:"å·´è¥¿",value:1474,color:"#B0C4D9"},{name:"è±å½",value:1800,color:"#C6B0D9"},{name:"å¶ä»",value:2233,color:"#F2DEAA"}],colorList:["#BCA2A2","#E0B09F","#CAD9B0","#B0C4D9","#C6B0D9","#F2DEAA"]}},mounted:function(){this.initBarChart()},computed:{ascendingData:function(){return this.sortKeyAscending(this.originData,"value")},descendingData:function(){return this.sortKeyDescending(this.originData,"value")}},watch:{"options.titleText":{handler:function(){this.titleText=this.options.titleText,this.title.select("text").text(this.titleText)}},"options.titleIsShow":{handler:function(){this.options.titleIsShow?this.title.attr("style","display: block"):this.title.attr("style","display: none")}},"options.titlePosition":{handler:function(){this.updateTitle()}},"options.titleBackground":{handler:function(){this.options.titleIsShow&&this.title.select("rect").attr("fill","".concat(this.options.titleBackground))}},"options.titleFontColor":{handler:function(){this.options.titleIsShow&&this.title.select("text").attr("fill","".concat(this.options.titleFontColor))}},"options.titleTextPosition":{handler:function(){if(this.options.titleIsShow)switch(this.options.titleTextPosition){case"center":this.title.select("text").attr("text-anchor","middle").attr("x",350);break;case"left":this.title.select("text").attr("text-anchor","start").attr("x",10);break;case"right":this.title.select("text").attr("text-anchor","end").attr("x",690);break;default:break}}},"options.titleFontFamily":{handler:function(){this.options.titleIsShow&&this.title.select("text").attr("font-family","".concat(this.options.titleFontFamily))}},"options.titleFontSize":{handler:function(){this.options.titleIsShow&&this.title.select("text").attr("font-size","".concat(this.options.titleFontSize))}},"options.legendIsShow":{handler:function(){this.options.legendIsShow?this.legendBox.attr("style","display: block"):this.legendBox.attr("style","display: none")}},"options.legendPosition":{handler:function(){this.options.legendIsShow&&this.updateLegendPosition()}},"options.legendAlign":{handler:function(){this.options.legendIsShow&&("vertical"===this.options.legendAlign?(this.legendWidth=80,this.legendHeight=170,this.legend=this.legendBox.selectAll(".legend").attr("transform",(function(t,n){return"translate(10, ".concat(25*n,")")}))):(this.legendWidth=430,this.legendHeight=40,this.legend=this.legendBox.selectAll(".legend").attr("transform",(function(t,n){return"translate(".concat(70*n,",0)")}))),this.updateLegendPosition())}},"options.xAxisIsShow":{handler:function(){this.options.xAxisIsShow?this.xAxis.attr("style","display: block"):this.xAxis.attr("style","display: none")}},"options.xAxisPosition":{handler:function(){if(this.options.xAxisIsShow){var t=this.yscale;"top"===this.options.xAxisPosition?(this.xAxis.attr("transform","translate(0, 0)").call(I(this.xscale)),this.xAxis.selectAll(".tick").selectAll(".axis-label").attr("transform","translate(0,-5)"),this.updateYAxis(),this.chart.selectAll(".bar").attr("y",0)):(this.xAxis.attr("transform","translate(0, ".concat(this.height,")")).call(B(this.xscale)),this.xAxis.selectAll(".tick").selectAll(".axis-label").attr("transform","translate(0,0)"),this.updateYAxis(),t=this.yscale,this.chart.selectAll(".bar").attr("y",(function(n){return t(n.value)}))),"left"===this.options.yAxisPosition?this.yAxis.attr("transform","translate(0, 0)").call(O(this.yscale).ticks(6)):this.yAxis.attr("transform","translate(".concat(this.width,",0)")).call(F(this.yscale).ticks(6)),this.updateDataLabel()}}},"options.xAxisLabelIsShow":{handler:function(){this.options.xAxisIsShow&&(this.options.xAxisLabelIsShow?this.xAxis.selectAll(".tick").selectAll(".axis-label").attr("style","display: block"):this.xAxis.selectAll(".tick").selectAll(".axis-label").attr("style","display: none"))}},"options.xAxisTickIsShow":{handler:function(){this.options.xAxisIsShow&&(this.options.xAxisTickIsShow?this.xAxis.selectAll(".tick").selectAll(".axis-tick").attr("style","display: block"):this.xAxis.selectAll(".tick").selectAll(".axis-tick").attr("style","display: none"))}},"options.xAxisGridIsShow":{handler:function(){this.updateGrid(),this.options.xAxisGridIsShow?this.xAxis.selectAll(".grid").attr("style","display: block"):this.xAxis.selectAll(".grid").attr("style","display: none")}},"options.yAxisIsShow":{handler:function(){this.options.yAxisIsShow?this.yAxis.attr("style","display: block"):this.yAxis.attr("style","display: none")}},"options.yAxisTickIsShow":{handler:function(){this.options.yAxisIsShow&&(this.options.yAxisTickIsShow?this.yAxis.selectAll(".tick").selectAll(".axis-tick").attr("style","display: block"):this.yAxis.selectAll(".tick").selectAll(".axis-tick").attr("style","display: none"))}},"options.yAxisLabelIsShow":{handler:function(){this.options.yAxisIsShow&&(this.options.yAxisLabelIsShow?this.yAxis.selectAll(".tick").selectAll(".axis-label").attr("style","display: block"):this.yAxis.selectAll(".tick").selectAll(".axis-label").attr("style","display: none"))}},"options.yAxisPosition":{handler:function(){this.options.yAxisIsShow&&("left"===this.options.yAxisPosition?(this.yAxis.attr("transform","translate(0, 0)").call(O(this.yscale).ticks(6)),this.yAxis.selectAll(".tick").selectAll(".axis-label").attr("text-anchor","end"),this.yAxis.selectAll(".grid").attr("x2",this.width)):(this.yAxis.attr("transform","translate(".concat(this.width,",0)")).call(F(this.yscale).ticks(6)),this.yAxis.selectAll(".tick").selectAll(".axis-label").attr("text-anchor","start"),this.yAxis.selectAll(".grid").attr("x2",-this.width)))}},"options.yAxisScale":{handler:function(){this.updateYAxis()}},"options.yAxisNice":{handler:function(){this.updateYAxis()}},"options.yAxisGridIsShow":{handler:function(){this.updateGrid(),this.options.yAxisGridIsShow?this.yAxis.selectAll(".grid").attr("style","display: block"):this.yAxis.selectAll(".grid").attr("style","display: none")}},"options.tooltipIsShow":{handler:function(){this.options.tooltipIsShow?this.tooltip.attr("style","display: block"):this.tooltip.attr("style","display: none")}},"options.tooltipPadding":{handler:function(){var t,n;this.tooltipPadding=this.options.tooltipPadding;var e=this.tooltipPadding,r=this.chartPadding;this.chart.on("mouseover",(function(i){var a=_n.layerX-50-r.left,o=_n.layerY-r.top;On(".tooltip").attr("transform","translate(".concat(a,",").concat(o,")")).attr("opacity",.7),On(".tooltip").select("text").text("".concat(i.name,":").concat(i.value)).attr("width",(function(){return t=this.getComputedTextLength(),n=this.getBBox().height,14})),On(".tooltip").select("rect").attr("width",t+e.left+e.right).attr("height",n+e.top+e.bottom)})),this.tooltip.select("text").attr("transform","translate(".concat(this.tooltipPadding.left,",").concat(this.tooltipPadding.top+12,")"))}},"options.tooltipColor":{handler:function(){this.tooltip.select("rect").attr("fill",this.options.tooltipColor)}},"options.tooltipBorder":{handler:function(){this.tooltip.select("rect").attr("style","stroke-width: ".concat(this.options.tooltipBorder))}},"options.tooltipBorderRadius":{handler:function(){this.tooltip.select("rect").attr("rx","".concat(this.options.tooltipBorderRadius)).attr("ry","".concat(this.options.tooltipBorderRadius))}},"options.chartBackground":{handler:function(){this.svg.attr("style","background: ".concat(this.options.chartBackground))}},"options.chartPadding":{handler:function(){this.chartPadding=this.options.chartPadding,this.width=700-this.chartPadding.right-this.chartPadding.left-180,this.height=700-this.chartPadding.bottom-this.chartPadding.top-80,this.xscale=go().domain(this.nameArray).rangeRound([0,this.width]).padding(.1),this.yscale=Jo().domain([0,1.1*_(this.valueArray)]).rangeRound([this.height,0]),this.g.attr("transform","translate(".concat(this.chartPadding.left+40,", ").concat(this.chartPadding.top+40,")"));var t=this.chartPadding;this.chart.on("mouseover",(function(n){var e=_n.layerX-50-t.left,r=_n.layerY-t.top;On(".tooltip").attr("transform","translate(".concat(e,",").concat(r,")")).attr("opacity",.7),On(".tooltip").select("text").text("".concat(n.name,":").concat(n.value))})),this.brush.extent([[0,0],[this.width,this.height]]),this.gBrush.call(this.brush),this.updateGrid(),this.updateBars(),this.updateAxis(),this.updateLegendPosition(),this.updateTitle()}},"options.colorList":{handler:function(){for(var t=0;t<this.data.length;t++)this.data[t].color=this.options.colorList[t];switch(this.originData=this.data,this.options.sortType){case"null":this.chart.data(this.data);break;case"ascending":this.chart.data(this.sortKeyAscending(this.originData));break;case"descending":this.chart.data(this.sortKeyDescending(this.originData));break;default:break}this.chart.select("rect").attr("fill",(function(t){return t.color})),this.legend.select("rect").style("fill",(function(t){return t.color}))}},"options.scrollingIsShow":{handler:function(){this.options.scrollingIsShow?On("#bar-chart-container").style("overflow","scroll"):On("#bar-chart-container").style("overflow","hidden")}},"options.scrollingWidth":{handler:function(){this.options.scrollingIsShow&&On("#bar-chart-container").style("width","".concat(this.options.scrollingWidth,"px"))}},"options.scrollingHeight":{handler:function(){this.options.scrollingIsShow&&On("#bar-chart-container").style("height","".concat(this.options.scrollingHeight,"px"))}},"options.labelIsShow":{handler:function(){this.options.labelIsShow?this.dataLabel.attr("style","display: block"):this.dataLabel.attr("style","display: none")}},"options.labelPosition":{handler:function(){this.options.labelIsShow&&this.updateDataLabel()}},"options.sortType":{handler:function(){switch(this.options.sortType){case"null":this.nameArray=this.data.map((function(t){return t.name})),this.valueArray=this.data.map((function(t){return t.value})),this.chart.data(this.data);break;case"ascending":this.nameArray=this.ascendingData.map((function(t){return t.name})),this.valueArray=this.ascendingData.map((function(t){return t.value})),this.chart.data(this.ascendingData);break;case"descending":this.nameArray=this.descendingData.map((function(t){return t.name})),this.valueArray=this.descendingData.map((function(t){return t.value})),this.chart.data(this.descendingData);break;default:break}this.xscale=go().domain(this.nameArray).rangeRound([0,this.width]).padding(.1),this.updateYAxis(),this.updateAxis(),this.updateBars()}}},methods:{sortKeyAscending:function(t,n){return t.sort((function(t,e){var r=t[n],i=e[n];return i>r?-1:r<i?1:0}))},sortKeyDescending:function(t,n){return t.sort((function(t,e){var r=t[n],i=e[n];return i<r?-1:r>i?1:0}))},initBarChart:function(){console.log(this.options),this.nameArray=this.data.map((function(t){return t.name})),this.valueArray=this.data.map((function(t){return t.value})),this.width=700-this.chartPadding.right-this.chartPadding.left-180,this.height=700-this.chartPadding.bottom-this.chartPadding.top-80;var t=go().domain(this.nameArray).rangeRound([0,this.width]).padding(.1),n=Jo().domain([0,1.1*_(this.valueArray)]).rangeRound([this.height,0]).nice();this.xscale=t,this.yscale=n,On("#bar-chart-container").style("width","720px").style("height","720px"),this.svg=On("#bar-chart-container").append("svg").attr("style","background: #eee").attr("width",700).attr("height",700),this.g=this.svg.append("g").attr("class","chart").attr("transform","translate(".concat(this.chartPadding.left+40,", ").concat(this.chartPadding.top+40,")")),this.brush=ba().extent([[0,0],[this.width,this.height]]).on("brush",this.brushed),this.gBrush=On(".chart").append("g").attr("class","brush").call(this.brush);var e,r=this.chartPadding,i=this.width,a=this.height;this.xAxis=this.g.append("g").attr("class","axis").attr("transform","translate(0, ".concat(this.height,")")).call(B(this.xscale)).attr("font-weight","blod").attr("font-size",13),this.xAxis.selectAll(".tick").select("line").attr("class","axis-tick"),this.xAxis.selectAll(".tick").select("text").attr("class","axis-label"),this.xAxis.selectAll(".tick").each((function(){On(this).append("line").attr("class","grid").attr("style","display: none").attr("stroke","#000").attr("stroke-dasharray","10,10").attr("x1",0).attr("y1",-a).attr("x2",0).attr("y2",0)})),this.yAxis=this.g.append("g").attr("class","axis").call(O(this.yscale).ticks(6)),this.yAxis.selectAll(".tick").select("line").attr("class","axis-tick"),this.yAxis.selectAll(".tick").select("text").attr("class","axis-label"),this.yAxis.selectAll(".tick").each((function(){On(this).append("line").attr("class","grid").attr("stroke","#000").attr("stroke-dasharray","10,10").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0)})),this.chart=this.g.selectAll("#bar-chart-container").data(this.data).enter().append("g"),this.chart.append("rect").attr("class","bar").attr("stroke","black").attr("style","stroke-width:0").attr("z-index","100").attr("x",(function(n){return t(n.name)})).attr("width",this.xscale.bandwidth()).attr("y",(function(t){return n(t.value)})).attr("height",(function(t){return a-n(t.value)})).attr("fill",(function(t){return t.color})),this.dataLabel=this.chart.append("text").attr("class","data-label").attr("font-size",16).attr("text-anchor","middle").text((function(t){return t.value})).attr("x",(function(n){return t(n.name)+t.bandwidth()/2})).attr("y",(function(t){return n(t.value)+16})),this.tooltip=this.g.append("g").attr("class","tooltip").attr("opacity",0),this.tooltip.append("rect").attr("fill","#eeeeee").attr("rx",0).attr("ry",0).attr("stroke","black").attr("style","stroke-width:1"),this.tooltip.append("text").attr("font-size",12).attr("transform","translate(".concat(this.tooltipPadding.left,",").concat(this.tooltipPadding.top+12,")")),On(".tooltip").select("rect").attr("width",75).attr("height",23),this.title=this.svg.append("g").attr("transform","translate(0,0)").attr("style","display: none"),this.title.append("rect").attr("class","title").attr("width",700).attr("height","".concat(this.titleRectHeight)).attr("fill","#E3E3E3").attr("x","0").attr("y","0"),this.title.append("text").text(this.titleText).attr("x",350).attr("y",25).attr("text-anchor","middle").attr("fill","#000"),this.legendBox=this.g.append("g").attr("style","display: block").attr("transform","translate(".concat(this.width+40,",").concat(this.height/2-this.legendHeight/2,")")),this.legend=this.legendBox.selectAll(".legend").data(this.data).enter().append("g").attr("class","legend").attr("stroke","black").attr("style","stroke-width:0").attr("transform",(function(t,n){return"translate(10, ".concat(25*n,")")})),this.legend.append("text").attr("transform","translate(50,30)").style("text-anchor","middle").attr("font-size",14).text((function(t){return t.name})),this.legend.append("rect").attr("transform","translate(5,15)").attr("width",20).attr("height",20).style("fill",(function(t){return t.color})),this.chart.on("click",(function(){_l(".bar").attr("opacity",1).attr("style","stroke-width:0")})),this.legend.on("click",(function(t){e=t.name,_l(".bar").attr("opacity",(function(t){return t.name===e?.7:1})),_l(".bar").attr("style",(function(t){return t.name===e?"stroke-width: 2":"stroke-width:0"}))})),this.chart.on("mouseover",(function(t){var n=_n.layerX-50-r.left,e=_n.layerY-r.top;On(".tooltip").attr("transform","translate(".concat(n,",").concat(e,")")).attr("opacity",.7),On(".tooltip").select("text").text("".concat(t.name,":").concat(t.value))})).on("mouseout",(function(){On(".tooltip").attr("opacity",0)}))},brushed:function(){var t=_n.selection,n=this.xscale,e=n.bandwidth()/2;_l(".bar").attr("opacity",(function(r){var i=n(r.name);return i+e>=t[0]&&i+e<=t[1]?.8:1})).attr("style",(function(r){var i=n(r.name);return i+e>=t[0]&&i+e<=t[1]?"stroke-width:2":"stroke-width:0"})),_l(".legend").attr("style",(function(r){var i=n(r.name);return i+e>=t[0]&&i+e<=t[1]?"stroke-width:1":"stroke-width:0"}))},updateTitle:function(){if(this.options.titleIsShow)switch(this.options.titlePosition){case"top":this.title.attr("transform","rotate(0) translate(0,0)");break;case"bottom":this.title.attr("transform","rotate(0) translate(0,660)");break;case"left":this.title.attr("transform","translate(0,700) rotate(270)");break;case"right":this.title.attr("transform","translate(700,0) rotate(90)");break;default:break}},updateAxis:function(){var t=this.yscale;"top"===this.options.xAxisPosition?(this.xAxis.attr("transform","translate(0, 0)").call(I(this.xscale)),this.xAxis.selectAll(".tick").selectAll(".axis-label").attr("transform","translate(0,-5)"),this.updateYAxis(),t=this.yscale,this.chart.selectAll(".bar").attr("y",0)):(this.xAxis.attr("transform","translate(0, ".concat(this.height,")")).call(B(this.xscale)),this.xAxis.selectAll(".tick").selectAll(".axis-label").attr("transform","translate(0,0)"),this.updateYAxis(),t=this.yscale,this.chart.selectAll(".bar").attr("y",(function(n){return t(n.value)}))),this.updateDataLabel()},updateYAxis:function(){if(this.options.yAxisIsShow){if(this.options.yAxisNice)switch(this.options.yAxisScale){case"scaleLinear":"bottom"===this.options.xAxisPosition?this.yscale=Jo().domain([0,1.1*_(this.valueArray)]).rangeRound([this.height,0]).nice():this.yscale=Jo().domain([0,1.1*_(this.valueArray)]).rangeRound([0,this.height]).nice();break;case"scaleBand":this.yscale=go().domain([0,1.1*_(this.valueArray)]).rangeRound([0,this.height]).padding(.1);break;case"scaleOrdinal":"bottom"===this.options.xAxisPosition&&(this.yscale=po().domain([0,1.1*_(this.valueArray)]).nice());break;case"scaleQuantize":"bottom"===this.options.xAxisPosition?this.yscale=ns().domain([0,1.1*_(this.valueArray)]).range([this.height,0]).nice():this.yscale=ns().domain([0,1.1*_(this.valueArray)]).range([0,this.height]).nice();break;case"scaleTime":"bottom"===this.options.xAxisPosition?this.yscale=ml().domain([0,1.1*_(this.valueArray)]).rangeRound([this.height,0]).nice():this.yscale=ml().domain([0,1.1*_(this.valueArray)]).rangeRound([0,this.height]).nice();break;default:break}else switch(this.options.yAxisScale){case"scaleLinear":"bottom"===this.options.xAxisPosition?this.yscale=Jo().domain([0,1.1*_(this.valueArray)]).rangeRound([this.height,0]):this.yscale=Jo().domain([0,1.1*_(this.valueArray)]).rangeRound([0,this.height]);break;case"scaleBand":this.yscale=go().domain([0,1.1*_(this.valueArray)]).rangeRound([0,this.height]).padding(.1);break;case"scaleOrdinal":"bottom"===this.options.xAxisPosition&&(this.yscale=po().domain([0,1.1*_(this.valueArray)]));break;case"scaleQuantize":"bottom"===this.options.xAxisPosition?this.yscale=ns().domain([0,1.1*_(this.valueArray)]).range([this.height,0]):this.yscale=ns().domain([0,1.1*_(this.valueArray)]).range([0,this.height]);break;case"scaleTime":"bottom"===this.options.xAxisPosition?this.yscale=ml().domain([0,1.1*_(this.valueArray)]).rangeRound([this.height,0]):this.yscale=ml().domain([0,1.1*_(this.valueArray)]).rangeRound([0,this.height]);break;default:break}"left"===this.options.yAxisPosition?this.yAxis.attr("transform","translate(0, 0)").call(O(this.yscale).ticks(6)):this.yAxis.attr("transform","translate(".concat(this.width,",0)")).call(F(this.yscale).ticks(6))}},updateBars:function(){var t=this.height,n=this.xscale,e=this.yscale;this.chart.selectAll("rect").attr("class","bar").attr("x",(function(t){return n(t.name)})).attr("width",this.xscale.bandwidth()).attr("y",(function(t){return e(t.value)})).attr("height",(function(n){return t-e(n.value)})).attr("fill",(function(t){return t.color}))},updateGrid:function(){"left"===this.options.yAxisPosition?this.yAxis.selectAll(".grid").attr("x2",this.width):this.yAxis.selectAll(".grid").attr("x2",-this.width),"bottom"===this.options.xAxisPosition?this.xAxis.selectAll(".grid").attr("y1",-this.height):this.xAxis.selectAll(".grid").attr("y1",this.height)},updateDataLabel:function(){var t=this.yscale,n=this.height;if("top"===this.options.xAxisPosition)switch(this.options.labelPosition){case"top":this.dataLabel.attr("y",(function(n){return t(n.value)-5}));break;case"bottom":this.dataLabel.attr("y",16);break;case"innner":this.dataLabel.attr("y",(function(n){return t(n.value)/2}));break;default:break}else switch(this.options.labelPosition){case"top":this.dataLabel.attr("y",(function(n){return t(n.value)+16}));break;case"bottom":this.dataLabel.attr("y",this.height-5);break;case"innner":this.dataLabel.attr("y",(function(e){return(n-t(e.value))/2+t(e.value)}));break;default:break}var e=this.xscale;this.dataLabel.attr("x",(function(t){return e(t.name)+e.bandwidth()/2}))},updateLegendPosition:function(){switch(this.options.legendPosition){case"top":this.legendBox.attr("transform","translate(".concat(this.width/2-this.legendWidth/2,",").concat(-this.legendHeight-20,")"));break;case"bottom":this.legendBox.attr("transform","translate(".concat(this.width/2-this.legendWidth/2,",").concat(this.height+20,")"));break;case"left":this.legendBox.attr("transform","translate(".concat(-this.legendWidth-40,",").concat(this.height/2-this.legendHeight/2,")"));break;case"right":this.legendBox.attr("transform","translate(".concat(this.width+40,",").concat(this.height/2-this.legendHeight/2,")"));break;case"left-top":this.legendBox.attr("transform","translate(".concat(-this.legendWidth-40,",0)"));break;case"right-top":this.legendBox.attr("transform","translate(".concat(this.width+40,",0)"));break;case"left-bottom":this.legendBox.attr("transform","translate(".concat(-this.legendWidth-40,",").concat(this.height-this.legendHeight,")"));break;case"right-bottom":this.legendBox.attr("transform","translate(".concat(this.width+40,",").concat(this.height-this.legendHeight,")"));break;default:break}}}},dc=fc;e("7338");function pc(t,n,e,r,i,a,o,s){var u,l="function"===typeof t?t.options:t;if(n&&(l.render=n,l.staticRenderFns=e,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):i&&(u=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,n){return u.call(n),c(t,n)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}var gc=pc(dc,o,s,!1,null,"3fd5fff2",null),yc=gc.exports,vc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{style:{width:600,height:600},attrs:{id:"tree-container"}})},mc=[],xc={name:"Tree",props:["options"],data:function(){return{tree:null,g:null,chart:null,title:null,titleText:"Tree",titleRectWidth:460,titleRectHeight:40,width:460,height:460,chartPadding:{top:80,right:80,bottom:80,left:80},data:[]}},mounted:function(){this.initTree()},computed:{ascendingData:function(){return this.sortKeyAscending(this.originData,"value")},descendingData:function(){return this.sortKeyDescending(this.originData,"value")}},watch:{"options.titleText":{handler:function(){this.titleText=this.options.titleText,this.title.select("text").text(this.titleText)}},"options.titleIsShow":{handler:function(){this.options.titleIsShow?this.title.attr("style","display: block"):this.title.attr("style","display: none")}}},methods:{initTree:function(){console.log(this.options),this.width=700-this.chartPadding.right-this.chartPadding.left-180,this.height=700-this.chartPadding.bottom-this.chartPadding.top-80,On("#tree-container").style("width","720px").style("height","720px"),this.svg=On("#tree-container").append("svg").attr("style","background: #eee").attr("width",700).attr("height",700),this.g=this.svg.append("g").attr("class","chart").attr("transform","translate(".concat(this.chartPadding.left+40,", ").concat(this.chartPadding.top+40,")")),this.title=this.svg.append("g").attr("transform","translate(0,0)").attr("style","display: none"),this.title.append("rect").attr("class","title").attr("width",700).attr("height","".concat(this.titleRectHeight)).attr("fill","#E3E3E3").attr("x","0").attr("y","0"),this.title.append("text").text(this.titleText).attr("x",350).attr("y",25).attr("text-anchor","middle").attr("fill","#000")}}},wc=xc,bc=(e("0d20"),pc(wc,vc,mc,!1,null,"a98a1f60",null)),_c=bc.exports,Ac=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{style:{width:600,height:600},attrs:{id:"tree-map-container"}})},Mc=[],kc={name:"TreeMap",props:["options"],data:function(){return{tree:null,g:null,chart:null,title:null,titleText:"TreeMap",titleRectWidth:460,titleRectHeight:40,width:460,height:460,chartPadding:{top:80,right:80,bottom:80,left:80},data:[]}},mounted:function(){this.initTreeMap()},computed:{ascendingData:function(){return this.sortKeyAscending(this.originData,"value")},descendingData:function(){return this.sortKeyDescending(this.originData,"value")}},watch:{"options.titleText":{handler:function(){this.titleText=this.options.titleText,this.title.select("text").text(this.titleText)}},"options.titleIsShow":{handler:function(){this.options.titleIsShow?this.title.attr("style","display: block"):this.title.attr("style","display: none")}}},methods:{initTreeMap:function(){console.log(this.options),this.width=700-this.chartPadding.right-this.chartPadding.left-180,this.height=700-this.chartPadding.bottom-this.chartPadding.top-80,On("#tree-map-container").style("width","720px").style("height","720px"),this.svg=On("#tree-map-container").append("svg").attr("style","background: #eee").attr("width",700).attr("height",700),this.g=this.svg.append("g").attr("class","chart").attr("transform","translate(".concat(this.chartPadding.left+40,", ").concat(this.chartPadding.top+40,")")),this.title=this.svg.append("g").attr("transform","translate(0,0)").attr("style","display: none"),this.title.append("rect").attr("class","title").attr("width",700).attr("height","".concat(this.titleRectHeight)).attr("fill","#E3E3E3").attr("x","0").attr("y","0"),this.title.append("text").text(this.titleText).attr("x",350).attr("y",25).attr("text-anchor","middle").attr("fill","#000")}}},Sc=kc,Cc=(e("5376"),pc(Sc,Ac,Mc,!1,null,"7af2b792",null)),Tc=Cc.exports,Pc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{style:{width:600,height:600},attrs:{id:"sunburst-container"}})},Nc=[],Dc={name:"Sunburst",props:["options"],data:function(){return{sunburst:null,g:null,chart:null,title:null,titleText:"Sunburst",titleRectWidth:460,titleRectHeight:40,width:460,height:460,chartPadding:{top:80,right:80,bottom:80,left:80},data:[]}},mounted:function(){this.initSunburst()},computed:{ascendingData:function(){return this.sortKeyAscending(this.originData,"value")},descendingData:function(){return this.sortKeyDescending(this.originData,"value")}},watch:{"options.titleText":{handler:function(){this.titleText=this.options.titleText,this.title.select("text").text(this.titleText)}},"options.titleIsShow":{handler:function(){this.options.titleIsShow?this.title.attr("style","display: block"):this.title.attr("style","display: none")}}},methods:{initSunburst:function(){console.log(this.options),this.width=700-this.chartPadding.right-this.chartPadding.left-180,this.height=700-this.chartPadding.bottom-this.chartPadding.top-80,On("#sunburst-container").style("width","720px").style("height","720px"),this.svg=On("#sunburst-container").append("svg").attr("style","background: #eee").attr("width",700).attr("height",700),this.g=this.svg.append("g").attr("class","chart").attr("transform","translate(".concat(this.chartPadding.left+40,", ").concat(this.chartPadding.top+40,")")),this.title=this.svg.append("g").attr("transform","translate(0,0)").attr("style","display: none"),this.title.append("rect").attr("class","title").attr("width",700).attr("height","".concat(this.titleRectHeight)).attr("fill","#E3E3E3").attr("x","0").attr("y","0"),this.title.append("text").text(this.titleText).attr("x",350).attr("y",25).attr("text-anchor","middle").attr("fill","#000")}}},Lc=Dc,Ec=(e("eef3"),pc(Lc,Pc,Nc,!1,null,"42633710",null)),Uc=Ec.exports,Rc={};n["default"]=Rc},fc6a:function(t,n,e){var r=e("44ad"),i=e("1d80");t.exports=function(t){return r(i(t))}},fdbf:function(t,n,e){var r=e("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}));
//# sourceMappingURL=visComponents.umd.min.js.map